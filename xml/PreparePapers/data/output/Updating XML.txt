
 Some text in this electronic article is rendered in Type 3 or bitmapped fonts, and may display poorly 
on screen in Adobe Acrobat v. 4.0 and later. However, printouts of this file are unaffected by this problem. 
We recommend that you print the file for best legibility. Updating XML Igor Tatarinov, Zachary G. Ives, 
Alon Y. Halevy, Daniel S. Weld Z a c g v a ar y e v c c H v e y ,@ e ne c e p a H a c H ny , yc g a 
o y H aNctc oa y gte @ ay H @ y c H ,ag H a H y y g a H eH ar y g e aa cCac e p a Ha c H v e y c a ay 
v Cwge g r ABSTRACT A h e t dRm m heM W X W p p u W Mip X W i a m W u m h a m W u o W m i h a ta h i 
p p Wam m hW u u m d M W M h W o p d M ta hdp i t g t d m p M p a m t dam hdm h W a m d a t M h t u i 
W h W i X t d ga m ie u p m d g e m g W m p i p d p t d W M p M e a W d a h a m d M tamt h d p upm p 
h p a m W n g aem p i a m a m p iXt d a W i M m m d g t d gnM m a mnh W a u W W d m W a W i p g W d W 
p e hdh o h ta W a h c o m a meh p e i M W h W u u p i a e t dRa X t W u hep X W i a m W t i M m a m 
amm d Mp a m W i h o h a W a hmM m deM t i W M a poet a u p i a p iNy e W i o a m W h W X t W u h ceANh 
mdi W th e pa a a m W i Wdm m hXh W W d g i W m aXt d a W i W h aXt dep m d g e m g W h m d Mah o h a 
W a h m p iW u u i W h h t d g y e W i t W h p X W i e t dnM m a m a u m W a m W ima m WNe t dnt hQh 
a p i W M t dm i W u p h ta p i o p i g W d W i m a W M m h mXX t W u p X W iNh p a W p a m W i M m a 
mdh a p i m g Wm p i a m a c rp W m i po a t d p i M W ita p m e p podW X p pX W e t d t d a p m e d 
tX W i h m p M m a m i W u ti W h W d a m a t p dnm d M h m m i t d gnm p i a m a a u W ade h a m p p 
p uhe h W i h a peh u W M tm oe u M m a W hQa p e t dnM p M e a W d a hmm d M ade h a M W X W p p u a 
W M m d t y e W h a p u i p tM W h h a m W aoW X M t W d a po c u M m a WXM m u m h t p ta t W h m i 
W t a u p i a m d a d p aNp d pom p i a p M tm o t d g e t d M p M e a W d a h a h e a m p h p m p iQu 
i p u m g m a t d g M m m d g W ha m i p e g m e t d X t W u h m d M m p i W u u i W h h t d g m d M 
a i m d h a ta a t d gXM m m d g W ha pdM p M e a W d a h ce mm t h u m u W i h W g t d hNh o u i p u 
p h t d g m h W a p m h m h t M e u tM m a W p u W i m a t p d h m p iNh p a mep i M W i W M m d M e 
d p i M W i W M e t d M m a m c ueWd W u a M W h M i t h W W u a W d h t p d h a pea m W u i p u p h 
W Mnh a m d M m i M e t d y e W i op m d g e m g W a eNe W i o aNa pnt d M p i u p i m a W a m W e u 
M m a W p u W i m a t p d h chueWa m W d M p d h t M W iQm pa W i d m a tX WNa W a m p M hem p iet a 
u p W a W d a t d g e u M m a WNp u W i tm a t p d hQuNm W d a m W e t dnM m a mdt h a m u u W M t d 
a p mXi W p m a t p d m p M m a m h m h W c t d m p po a u WmM W h M i t h W m d W u u W i t a W d a 
m p W X m p e m a t p d p m a m W m pa W i d m a tX Wa W M m d t y e W h m p imt a u p W a W d a t d 
g p e imW u a W d h t p d h c 1. INTRODUCTION bdh o oNa L o d e e a e o h o o e d o o e o e o a L o o 
odL e e w o o tae a o o M o t n a W ee W o p oda ete t a o o o e a e tem ean e e e W t e h o o e e d 
o e W o o o e w d oXo o d o o e o t ta e a e a toe a o n e a e eim L e enL e eee twd e o a w o o twe 
a e M W d e a o npw o a L op o a d a L a e a L oXXao w e t n o t e a M M o o e o o dXL o o o m ean L 
e e e d M a e ae t e a e t a d oao M o o p o nne e a L oecme a e t n e o n e a ode t e a o M e a e a 
te t a o o e L e t p o eo e o d ono h o o oeh o t n a o a een e a e M e t e p o M o t a a a a d eL e 
e e n n o nne W d d a o a e a o o p d a o a e t p o h e o d e t p o e t nee t e a M oXe e e o e o h o 
t e M d a o a e t p oNm eantt e a o M e a a o npn e a e egm a a d e e a o e W o o o e t pe t n e t a 
o p o e a e t pnm eanMe o o e a e d d d e o p o d oae taa L o e o e t e e t e o o w W ae o o w o p e 
t t e t paa aao M o o p o eem eanMn a e W M o t a o o d a e e a a o e o e d e u obdwo e ao e e p tepeNo 
m e o d a tne i n X e t n n a e a d e o odt repeNm e Mne t a eiXe o o t a dDe h e e d e w d o o e t nMmdeanwd 
W w d e e L e t pge e d e w e d e a e o e L e h ow o o tpe n n o nfa a a L ond e a o e ano o d e a e 
a t e dXn e a e w e e oee o e a o M e e o a Mbdo e e d o o eeao e t n e e e o a e a e a e rd a e M e 
a o d o o e a e eeo p d o e a o nfa L e a a L o e o o o d e a e a t e d n e a e w e e oo t p e t o e 
d e d dnd o a h e n oae a e t n e o n eo nto e t a o p o e a o noe W d d a o aae a oe W o o o e t pwe 
t nhd W w d e e L e t pim eanih e o d ena e n e a e w e e o e eDm L e ed e d d e d d a daa L o e L e 
o e t paa eXn e a eee o a Miw a a Lfmdeanio o d a e e a a o e o ee t n a o e n e a e a t e d o o d e 
a e a t e d n e a e w e e o e W e e t p eee e t p d o o W t eo nto Permission to make digital or hard 
copies of all or part of this work for personal or classroom use is granted without fee provided that 
copies are not made or distributed for pro.t or commercial advantage and that copies bear this notice 
and the full citation on the .rst page. To copy otherwise, to republish, to post on servers or to redistribute 
to lists, requires prior speci.c permission and/or a fee. ACM SIGMOD 2001 May 21-24, Santa Barbara, California, 
USA Copyright 2001 ACM 1-58113-332-4/01/05 ... 5.00. e W o o o e w d o M a n o dt e M o d o o m ean h 
e o d eQd e a L e tem ean e W o o od e t p W e p o e m L o Xaa o d naXbe n o X o wa t e a o a e W Mae 
eXe t a L o d o a te o e e a eQn o h o d a d e t pee e a e t n e o n e a o a L e e m eanfe W o o ond 
e t p W e p o oe e d d o nfmdW o o ooe X e eao e t dXL e d o oea L onn e a e w e e o o o e o e o e L 
e a MntM W t e a o L e e w o o t L e o n e aQd a o u e t e n n o o e e e t p a L o e L e d d o t p o 
eQa ed o a h e n e t p m eanah e o d e a emo o d e a e a t e dmn e a e w e e o e o d e a L e o e a o 
M ee W e L e e n e d u o a W a o ew X e t nam aN odtmXbbe X e m L o t o p a e a o d e teM e u e t pXm 
ean e t a a eXe W d d t e o e a W o o n n e a e o p te L e t p oee a o M e a e e a aee W d d a o a t 
a a a t d one W o o e o e o w W adW d n e a o e oa h o oXm eanpe a t a o t a eNe a e L a W d n w o d 
a e e e w d o a anM a n e e oae a t a o t ad e a L e tMmdeanan a e W M o t a eae t nba aoo p d o o e 
eeW d n e a o eea aomdeanh e o d e o dXL e e Lne o o d o o e a d e a o nnw e e uea a a L o a o e p e 
t e dNn e a e e m L oe w e d e a o a a o t e e d e W d e a o e taW d n e a oda d o o e a e a tee e e 
d e ant o e o e e e o oe a odo p d o o e e e t p e t e o o M o t a e dQe L e t p o e en o d a e ea h 
o o e a t a o t a odXL e e L e e e M d a o a e t a e a oa t a e t W a W edW o o e o e eu X otm eanon 
a e W tM o t a Mne o o a o e t p o e e e L e t p o e t nao o d d e e e a e a tee e t a L e e d e d o 
odd o d o a d a e o eae o a a e e a t e a o W e a e e a o o p d o o e e te t p e W e LpW d n e a o e 
e tpw a a Loe tpa o n o o o npe t n W t a o n o o o n mdeann e a egM a n o d o d o M e dRa L o e o e 
a t e a o W e a eae t a aga L o e o t a e pMa ea L o mdW o o o d e t p W e p o o e t n d o n o e e o 
e w o e M d d o M o t a e a e a t a o e L tt e e W o e a h o ode o o d e a e a t e d n e a e w e e oee 
o e a o Mae e t d e o a e e W d e o o d oM e u oda L ode a d d a d e t pee a t a o e w W a e a t e X 
o d o a d a e o e e o ada e d o e Mne a e h o a d o o e a e a t eXe a o M a n e e o e t pna L oe a o 
W e a W o o e t nae a t a o t aXa e e t mdeanpn a e W M o t a e X oXd o o e o t aNW d n e a oXo p a o 
t e e a t e a a a L o X a o d n Xbe n o X o wea t te a o a e W Mape d o a d a e o n m dW o o oee a e 
t n e o n e W o o o d e t p W e p o e X oed o a h e n o e d p a o e a L M e e a o e M d d o M o t a e 
t p m eanRW d n e a oae e td e w e d e a e o eed e a L e toe tom eanMo o d a e e a a o opw e e o n a 
toe o o d e a e a t e dn e a e w e e o e o e a o Mao e t n n o e e o e w o L a d a L o e oNa o e L t 
e e W o eee e tee d e aw o e d d d e o n a a a L o d o a w d o Moa eNW d n e a e t p o o d e a e a t 
e d n e a e w e e o ea L o a W p LpmdeanMh e o d e e eaa e a e o o e W o t a d o t W d n e a o nan e 
a e a o t n ea aao o e e n one t o o d e a e a t e d e o e a o M e o e t nnd one o o d e a e e e M d 
a o a e t aa anL e h odd o d d t e a W n e o naa o e L t e e W o e e a o W d n e a e t pne a M d d o 
pemdeane a o W e a W o o M e d d o n a a eeo o d e a e a t e d e o e a o Mae X o d o a h e n one tfe 
t e d o e e e a e a L oed o o e a o M e t e oea e a W o n eo o o t aW d n e a oae a o e a o p e o enW 
e e t p ent W M w o oea e d a o u d a e n e e t non a e W tM o t aXe a o W e a W o o e e m L e e d e 
d o o e e e a o W e a W o o n e e e a d d a d e e X o w o p e t d e a L e n o te e o e d a e a tha eeo 
o d e a o nMd a o ube tan o e a e a tMeee tMn o e a e a tho d od o a h e n o e tpa h o o h e o dwa e 
a L o m eanRn e a e M a n o d e t n n o e e o e w oe e o aXa e d o e Mne a e h oda d o o e a e a t e 
e a o W d n e a e t p w a a Laa o n o o o nae t nW t a o n o o o nwm eanon e a e eMn o e a e a tbupn 
o e e o e w o e L a doa L o e oaa d to o e a e a t eee e tpw o e n n o nfa a a L o mdW o o o d e t p 
W e p o e n o e a e a topo o h e o d enu o oge a t e o d a eee twM e d d e t pnw o a d o o tgm eanoe 
t npo o d e ta e a t e d n e a e w e e o e o e t nbn o e a e a ti ad o o e o t a ena W o e M d d o M 
o t a e ta e a toe a o e a o p e o e e X o o h e d W e a ona L o e o a o e L t e e W o e e tgn o e a 
e a toae t ned o o e o t a e a t e d W e e a t e e t n e W a W o o n e o o e a e a t e e t n o e a e 
a t n e <noh l n hd9 h l h l n 9<l gbr T b E< <l gb < bhb bhLe fhd9 bhn h lh9 < nhr Mh l bh tMhl < < 
nh < h l ne fhd9 h l h l n 9 ghllbhd9gMdib9< nibhhd b< < nibh <l gbE b bhisEl n < <l gb < < h l n < 
nhE idbbhb< < nh < t l tbLe fhd9dgMh 9ibnbhd9 h l nh9 < < h l n n lbihhh9tbnl hd9anihihd9gM 9 < < bb 
bh <hbbbin ll hhLi aldtbnl hot t t < <hb < h l ne fhd9en lbh l n 9dghllbhd9gMd 9< < t l tb <l gbd blhb 
bhidEl n < <l gb< nihiMe fhd9gM 9 < hin li < h ll gbdgM< < h ll gb < nhd blhb< < nh < < nihi < nibhhd 
b< < nibh < nihiMe fhd9ib9hlbhd9h9 < < hin li < h ll gbD ib< < h ll gb < < h l n< < nihi < h l ne fhd9 
h l nh9 < <n w lun aa d mnd d dlaa X M Loo ouahpn an aah aT l d lTpodu T h Bio Lab Philadelphia USA 
t lun adEDha oooah ln an aahh fint lun aa d snu Toa vohad(eom m e P eo omm ho ooP ed tomm e hohdm e o 
)ee a e o a tr f b o e phnelcnelZu TEpZou TEp e t pae a a L ommP C e mXo d o M o t a o e t h a u o edeet 
o dad e a a o o t t M e a e L e t pe t nu TEpe ea d o o e a e a t a h o o a L o e t d W a o o o a W o 
t e t pdw e t n e t p eea L e ame o od a o o o nc f e E e o e p h nnla w o a L ooP ed tomm e hea o o 
e e Lnh e d e nne a M w e t e a e a tna eNw e t n e t p e om e m b T e p h nnlcm R dRo a l o o e W o 
e e h o d oae t h a u o e a L o W d n e a o a d o o e a e a tteXm L e e e d d a d e W e a ae m d e m 
ofleleb e n a m eab n o e m p h nnlc Xt o p d o o e e W d n e a o eee a M W d a e d d o d o h o d e 
d e a L e twene a M d d o pam eanm e r E be p h nnlc$he o F plelE e a o W e a W o o e n a m phnllcnelde 
mXIfXXmlh oi nuh eeddeo oe e e $ F e m epddecnmpovohahEp oe e eutRe W d dtW d n e a o t a d o o e a 
e a teM e o e a t e e e a a e e o h o o e dta eea L o e o e W w tm L oot o e a o nEn a mde e e $ F e 
m ehe d e W e owe d d a d efa t opa aMe d o e e e oae ta d o o e a e a t ema L e a o p o e W a o e tae 
o e W o t e o emm L o o o e a o o o d o e n nee o h tmdame a L o p d o o e e e a t a aaw oeM e a e L 
o n w o p e t t e t pae anelcnlloee eo o e d e n n e a e a t e d o o e a o e e a e a t e a a a L o e 
o M e t a e e ena eda W o a d o o e td o d dme e ene o ada emd o o n e e e a o e a L e a M e o o o e 
a o e e a e a e w e t n e t p e e ta e a t e e taa o n o o a a d o o h o t a e d d t n ot o n e o M e 
t a e e e e t d dew e t n e t p et o e a o naW d n e a o a d o o e a e a tnM e oew o d o o e a o M o 
n a h o ode t oaa e a L od e a L e tnu Tdan vohaa d o o e a e a t eNe o oXM e n o a h o oQa L o e t d 
W awow e t n e t p eNe o a Mba L oda W a o o e e a d o a o a L own a me d e W e o eme eQM W d a e d d 
o ee t oeW d n e a o e a e u o d d e e o eNnee u o d e e o om de m e e me e o h e d W e a o nuvohahEpe 
e o ode d o e eo nto a L o o e o o d o o e a o M o nee a t e o e W a e h o d oe a odo e e LumP C e mw 
o e a o oea L o e o e W o t e o a e W d n e a o e e e o p o e W a o n ee a oXo e e Lee a o o e a e a 
t a e h e o e e w d o w e t n e t p e o e a d d a d e t pna L o e o M e t tde t e d d o o e w e t n e 
t pea L e a L e e w o o tnn o d o a o n e e t t a a w o W e o naw oa e e e n o e e o e w o nee t a L 
o d o o h e a W eXe o e a e a ttee t oea d o o e a e a t e d e a o o e t a L o e o e W o t e one o p 
e o d a e elele 4.2 Language Extensions in Detail m L omd o o h e a W e e o e a e a t M e u o e a L oNe 
e e W M d a e a tda L e aea L ommdame a L  4. XQUERY EXTENSIONS FOR UPDATES m L o w e e e e e o a a 
e a d o o e a e a t e d o o e o t a o nne t n o e a e a teo p d o o e eo p d o o e e e a t eme o o e 
Wce e o t a d oeo p d o o e e e h o a L e a a t o e e tne o d o e a a L om ean W d n e a o emd a p e 
e e d d o h a L o t o p a e a o dne e a a a e u oXa L o e o a d o o e tm eania wo e a e a t ond e e L 
o e a a M e t e d W d e a o eeXML e d o a L e ede e e o o ta e a t e e t n M e dea L o M e t a ana L 
o mdW o o o d e t p W e p o e o t a e p e X oa e e t d o a o W oNa e o d o M o t a e o md dW o o o n 
a o eQt a ame e a W e d d o n ot o L a dw o p e t w ofn o e e o e w e t p a L o p o t o o e dNe a o Ma 
eXa W o W d n e a ono p a o t ta a e o d o e a e t e a a o e w W a o e eXe dXL a d o e a t d o e a e 
h e d W oo t a oXe tae t te e a t e o e t naa L o t o d e w a o e a o W d a tae d o e ee a d o o e a 
e a t e en e h e n W e dte f m e noa W a a e e tle f m e n dfd e e a eRm L W e d o e t a o a n W e o 
e a t h o t a e a t e e a oXw e t n e t p a a e a a o e w W a o eXe t nue f m e ne en d o e ee e d d 
o oNd oae e e W M o a L e a e h e o e e w d o w a W t n a a e twe a t 4.1 Basic Form of Updates X o o 
p a o t n mdW o o oed e a Lnepn a mde e e E e ohe e et$ F e m ehe e er f b o ea o e w W a oaewwon a m 
p Toe m l< t lo o d o o e o t a e eao o e o o o t e oe a o W e a W o o e a oNW d n e a o e eQXbe a L 
e t a L ohr f b o eee d e W e o o e e o e W o t e oa a a L e a e a a o e w W a oee e t nnt a a e e M 
d d oea L oXh e d W oQd e a L e t a L o n a e ta e e W w t a d o o e a e a t e e e a d d a d e t p a 
L o e e M o e o M e t a e e eXe e a W o d a p tW M o t a emm L W e a t o e e t M a n e e o a L ode a 
a o e w W a o w o W d n e a e t pea L oe e e duvohaXe o o e d o e eo nt a wo e atp Theeda d o h o o o 
e tao p d o o e e e a taa h o oXa L opbmlua efp Tnd e d d an a mophnelcnelpae mXIfXmlh o eeddeoe e eop 
o aXe a eXe a o e t pnleleE e o phnllcneldlhmlh o eeddeom a w e t nae h e o e e w d oda aee e d o e eedo 
o e o o o t e odd e a L e tae tse f m e n I Xoe e e $ F e m e ddecnmpoe e e a ode f m e n do d o e t 
a o a n W e ooewe W t e a e a tMb a eh l nbh nlbdFuvohahEoe e e a L e a e e tow o w a W t npa a enh e 
o e e w d o egt too p e M d d o a L e anw e t n e dXL o o outoo hahEpe eXn ot o n e tade e pha a a L 
o o o e o o o t e oaa ah l h l ne tpa L oan a e W M o t a a ede p W o oni    n o d o a o o W t t 
e t p a e M o i e u e u en e t t e t e o o a o W t t e t pea e M o t t t u e i ea i p eu a d o o e a 
e a taDM o a L a nd o o t a W d d oda o e p p o od o o t e a Mba o e p p o oe e e e e n otdn o ytTlaa 
d E f o oa nahh tn aulpdDaBldPoho 2  1.5 time, sec time, sec 1 0.5 0.2 0 0 scaling factor scaling factor 
t lun a 6d wD alaaE oa n fi dnaaEbtl kmnd l d hohr_o da ot lun a XDXalaaoa n findam cdcm dntk tkd l d 
hohr fi d ot s drvo ah p8hd _o dahosfi d ot s drto ah p8d uu 10 10  1 1 0.1 0.1 0.01 0.01 depth depth 
t lun a 8d wD alaaE oa n fi dnaaEbtl kmnd l d hohr_o da ot lun a9d XDXalaaoa n findam cdcm dntktkd l 
d hohr dfi ddne uSp porvfiot X _o dahoddfi ddne uSp portfiot X uu 10  time, sec time, sec 1 0.1 0.1 
123456 123456 depth depth t lun adApoIa nX oa n finda rbtl komnd l d hohrd_o da ot lun ad dIa nva n fina 
rt cdcm dntktkd l d hohr uu dfi ddne uSp porvfiot X _o dahoddfi ddne uSp portfiot X   
			