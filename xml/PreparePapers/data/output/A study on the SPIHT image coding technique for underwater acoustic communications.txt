
 A Study on the SPIHT Image Coding Technique for Underwater Acoustic Communications Beatrice Tomasi 
. , Laura Toni , Paolo Casari§ . , James Preisig , Michele Zorzi§ .  DEI, University of Padova Padova, 
Italy § CFR, Consorzio Ferrara Ricerche Ferrara, Italy IIT, Italian Institute of Technology Genova, 
Italy AOPE, Woods Hole Oceanographic Institution Woods Hole, MA, USA {tomasibe,casarip,zorzi}@dei.unipd.it 
laura.toni@iit.it jpreisig@whoi.edu ABSTRACT In this paper, we consider the transmission of progressively 
en­coded images over underwater acoustic links, where transmitted symbols are protected by Forward Error 
Correction (FEC). The al­location of redundancy is performed according to both a Basic and a Multiple 
Description (MD)-like technique. The performance of this system is analyzed in terms of the resulting 
Peak Signal-to-Noise Ratio (PSNR) as image packets are transmitted over the mea­sured realizations of 
acoustic channel impulse responses. These measurements were taken near the coast of Martha s Vineyard 
dur­ing October 2008, in different environmental conditions. In the results, we quantify the performance 
improvement of the multiple description (MD) technique compared to the Basic alloca­tion, thus suggesting 
its suitability for the transmission of images in the underwater acoustic scenario.  Categories and 
Subject Descriptors C.2.0 [Communication/Networking and Information Technol­ogy]: General Data communications; 
I.6.6 [Simulation and Mod­eling]: Simulation Output Analysis General Terms Measurement, Performance 
 Keywords Underwater acoustic communications, source coding, image cod­ing, simulation 1. INTRODUCTION 
The acquisition and transmission of images is one of the most appealing applications envisioned for autonomous 
underwater net­works, and at the same time one of the most overlooked so far [1,2]. Nevertheless, the 
feasibility of real-time underwater imagery would open up the way to new explorations of the marine environment, 
Permission to make digital or hard copies of all or part of this work for personal or classroom use is 
granted without fee provided that copies are not made or distributed for pro.t or commercial advantage 
and that copies bear this notice and the full citation on the .rst page. To copy otherwise, to republish, 
to post on servers or to redistribute to lists, requires prior speci.c permission and/or a fee. WUWNet 
11, Dec. 1 -2, 2011, Seattle, Washington, USA Copyright 2011 ACM 978-1-4503-1151-9 ...$10.00. paving 
the way to discoveries in the .elds of marine biology, ecol­ogy and geology and being of help in oil 
spill relief operations, and in the detection of underwater mines, to name a few. The ef.cient encoding 
and transmission of images over terres­trial radio links has been widely studied [3, 4]; however, as 
under­water acoustic links are different from their terrestrial counterparts, it is not clear whether 
the technologies and communication models employed for the latter can be applied to the former as well 
[5]. In fact, the typically high error rates, high path loss, and low channel capacity in underwater 
channels make the purpose of high quality image transmission even more challenging than in terrestrial 
ra­dio links [6, 7]. The .rst works on underwater image transmission were mainly focused on studying 
coding techniques aimed at com­pressing the large amounts of information gathered by Autonomous Underwater 
Vehicles (AUVs) during their missions. For exam­ple, in [8] a wavelet-based video coding technique was 
proposed to compress underwater video sequences. More recent works investigating source coding techniques 
are [7, 9, 10]. In [9], a hybrid global-local motion-compensated scheme has been proposed, which leverages 
on the main features of un­derwater video sequences (e.g., primarily static scenes with small moving 
objects, low contrast due to the arti.cial light conditions, etc.). Although the authors demonstrated 
that the proposed com­pression technique provides a satisfactory visual quality while main­taining a 
high compression ef.ciency, realistic underwater trans­missions have not been considered in the simulation 
tests. A sim­pler source compression scheme has been investigated in [7], where the Set Partitioning 
In Hierarchical Trees (SPIHT) source coding scheme [11] has been applied to underwater transmissions. 
The SPIHT encoded bitstream, divided in consecutive chunks, has been transmitted over underwater links. 
Results have demonstrated that SPIHT is an ef.cient compression technique for data and image transmission, 
but still suffers from high end-to-end delays. How­ever, the authors only consider a basic version of 
SPIHT, where packets are retransmitted if lost, which is an inherently inef.cient hybrid Automatic Repeat 
reQuest (ARQ) strategy [12], and where channel coding is assumed without any FEC optimization based on 
the progressive nature of the source bitstream. End-to-end de­lays might be considerably reduced by adopting 
more sophisticated transmission schemes, which make the system more robust to chan­nel impairments via 
a different management of redundancy, leading to a considerable reduction of the number of retransmissions. 
For example, the choice of the redundancy per chunk should be strictly correlated to the priority level 
of the source bitstream, by adopt­ing an unequal error protection (UEP) strategy (i.e., a more reliable 
transmission for more important bits). This is the approach presented in this paper. Speci.cally, we 
pro­pose a comparative study of FEC allocation strategies for the trans­mission of SPIHT source coded 
bitstreams in underwater acoustic links. We focus on the SPIHT scheme because it is inherently de­signed 
for progressive image encoding (whereby the quality of re­ceived images depends on the number of correctly 
received pack­ets), and for the capability to manage redundancy in a way that is convenient to communications 
and that can be adapted to ac­tual channel requirements (see also a description of SPIHT in Sec­tion 
2). To the best of our knowledge, this is the .rst study on rate allocation schemes for the transmission 
of progressively coded source information over underwater channels. In the following, a symmetric n-channel 
FEC-based MD [13], able to exploit the progressive nature of the encoded source, is com­pared to a baseline 
algorithm [7]. For both algorithms, we propose a forward error correction (FEC) pro.le optimization, 
which min­imizes an objective cost function (e.g., the expected distortion) un­der the constraints that 
the total number of bits to be transmitted is .xed, and that the channel state information (CSI) available 
at the transmitter is limited. We remark that due to the large underwa­ter propagation delays and to 
the usually lower channel coherence time, any instantaneous CSI fed back to the transmitter would be 
likely outdated. Therefore, the FEC pro.le optimization will take into account only the average signal-to-noise 
ratio (SNR), assum­ing that no information is available on instantaneous fading .uctu­ations and packet 
correlation. The results, illustrated in Section 3, demonstrate how suitable the MD technique is for 
underwater scenarios, especially in the low SNR regime.  2. SYSTEM DESCRIPTION 2.1 Progressive Source 
Coding Progressive/embedded coding methods (e.g., SPIHT), which have been deeply investigated for terrestrial 
radio links, are appealing for underwater communications as well. First, the quality of the decoded information 
is proportional to the amount of received in­formation. This means that the more the bits adopted for 
decoding, the higher the quality of the reconstructed bitstream. Second, the decoding process can be 
stopped as soon as a target bit budget (i.e., the total number of bits) or a target distortion objective 
is met, and the quality will be the best possible for that bit budget. Third, given an encoded bitstream, 
the image can be reconstructed from different numbers of bits processed by the decoder, provid­ing several 
qualities and several compression rates with just one coding process. All these features make progressive 
coding meth­ods highly suitable for heterogeneous networks (in terms of chan­nel bandwidths, mobility 
levels of terminals, end-user quality-of­service requirements), or for transmissions with limited CSI. 
How­ever, progressive encoding is generally error-sensitive, as an error generally makes the subsequent 
bits useless. Thus, the placement and amount of FEC within the bitstream should be carefully de­signed, 
e.g., by adapting the amount of FEC to the importance of bits within the SPIHT stream.  2.2 Overview 
of FEC Allocations for SPIHT In this section we describe FEC allocation techniques, aimed at assigning 
the most convenient protection to the encoded bitstream when limited CSI is available. Neither instantaneous 
channel .uc­tuations nor the information on fading correlation will be taken into account for the design 
of the allocation/coding schemes. In both al­gorithms, we assume that the SPIHT encoded information is 
trans­mitted in a resource block (RB) of .xed size, characterized by Nt packets, each consisting of Lp 
modulated symbols. 2.2.1 The Basic Allocation In the basic algorithm, depicted in Fig. 1, the encoded 
bitstream is sequentially ordered, and allocated into packets. Each packet is protected in the time domain 
by a concatenation of Reed-Solomon (RS) and cyclic redundancy check (CRC) channel coding. We as­sume 
erasure channels, which means that, at the receiver side, if the CRC check fails (i.e., if the RS decoder 
is unable to correct all errors affecting the received packet), the packet is lost. Losing a packet makes 
all subsequent packets useless, as decoding a progres­sively encoded stream requires in-order processing 
of transmitted data. It follows that every source bit is more important than sub­sequent ones, and requires 
UEP, i.e., the assignment of a greater amount of FEC to the .rst bits in the bitstream, while leaving 
later (thus less important) chunks less protected. In Fig. 1, for example, the .rst information symbol 
is more protected than the subsequent ones, and the probability of losing the .rst packet will be lower 
than that of losing the other ones. We assume that each image will be allocated and transmitted in a 
RB with .xed dimensions, such that by increasing the level of protection introduced by the channel coding, 
the information bits transmitted per RB will decrease. Fig. 2(a) denotes the RB gener­ated by the basic 
allocation, and the notation adopted in the follow­ing: each image is allocated into Nt packets, each 
one consisting of Lp modulated symbols. The goal of the basic allocation algo­rithm is to optimize the 
right amount of FEC per packet, able to .nd the best tradeoff between redundancy and reliability, as 
it can be evaluated through the following problem formulation. We assign a given channel code rate rj 
,j =1,...,Nt to each packet of the RB, and we denote by r =[r1,r2 ,...,rNt ]the rate vector for the channel 
codes in the time domain. In view of the previous discussion, any packet j is more important than all 
sub­sequent ones; therefore, we impose rj = rj+1. When all the .rst j packets are received, but the (j 
+ 1)-th packet is lost, the decoded image quality will be D [Rj (r )], where D[·]is the rate­distortion 
curve of the employed source coding scheme [14], and Rj is the received bit budget (i.e., the total number 
of bits) for the information symbols. This received bit budget is computed as "j Rj (r )= l=1 cl(rl), 
where cl is the number of source informa­tion bits in the l-th packet. Given the source code rate-distortion 
curve D [Rj (r )], and the conditional packet loss probability Pj , which is the probability of losing 
the (j +1)-th packet given that packets 1,...,j are correctly received, we can evaluate the best channel 
code rate vector r . as the one that minimizes the expected distortion E[D], i.e., Nt L Er . [D]= min 
D[Rj (r )]Pj (r )+D0P0(r )(1) r j=1 subject to a constraint on the overall bit budget Nt L cj /rj = 
Btot , j=1 where Btot is the total bit budget of the RB, and D0 corresponds to the distortion when no 
packets are received, i.e., when the decoder must reconstruct the message without being able to use any 
of the transmitted information. For a gray scale still image, this typically means reconstructing an 
entirely gray image. We use the iterative procedure described in [15] to solve the optimization problem 
(1). In an ideal system, in which the instantaneous SNR experienced by each set of packets is available 
in the feedback channel, the Ba­sic Allocation algorithm would be able to assign the right amount  CRC/RS 
Time Coding Boundary Figure 1: Description of the Basic Allocation scheme. The dark shaded area to the 
right of the CRC/RS Time Coding Boundary line represents the bits for CRC and Reed-Solomon coding applied 
to each packet. The unshaded area represents information symbols. (N , k ) tj packet/ RS Codeword packet 
description  transmitted packets t modulated symbols pL modulated symbols p (a) Basic Allocation of 
the number of information bits (b) MD-based Allocation Figure 2: Resource block for progressive image 
transmission. of FEC to each transmitted packet. In particular, since each RB experiences its own SNR 
vector, the optimization problem in (1) should be re-optimized for each RB. Thus, the Basic Allocation 
al­gorithm leads to the best performance if the SNR experienced by the packets is provided in the feedback 
channels, driving the sys­tem to be extremely sensitive to non-ideal or outdated channel es­timations. 
To show this sensitivity, we compare ideal systems with realistic scenarios, in which the mean SNR per 
image is considered as information in the feedback channel. This allocation technique is considered as 
a baseline, and has been already tested in underwater scenarios [7]. However, the allo­cation in [7] 
is based on a heuristic approach (by transmitting more redundancy when the channel is bad), whereas, 
here, we compute the optimized allocation, in terms of image distortion, by solving a minimization problem. 
This approach has not yet been investigated for the underwater acoustic scenario.  2.2.2 The MD-Like 
Allocation We now illustrate the general mechanism for converting an em­bedded bitstream from a source 
encoder into multiple descriptions in which contiguous information symbols are spread across mul­tiple 
packets. The basic idea of MD source coding is to split the information into multiple bitstreams approximately 
equally impor­tant, each of which can be independently decoded. In the MD-Like allocation technique [13], 
which is a n-channel FEC-based MD coding, contiguous information symbols are spread across Nt multiple 
packets (also called descriptions ), instead of being as­signed to the same packet. We now show how an 
embedded bitstream, generated from a progressive source coding, can be allocated and opportunistically 
protected in a RB to be transmitted over underwater channels. With the .nal goal of improving the reliability 
of the bitstream transmis­sion, we assume to protect the encoded image with a bidimensional channel code 
(product code). Fig. 3 depicts the detailed steps of the MD-Like technique: i) allocation and vertical 
channel coding, ii) horizontal channel coding. In the .rst step, the bitstream is allocated across packets/ 
descrip­tions. The information is protected using systematic maximum dis­tance separable (MDS) RS codes 
across packets, with a level of protection depending on the relative importance of the information symbols. 
This means that for a (Nt,kl)codeword, where kl is the number of source symbols to encode the l-th codeword, 
the FEC level is fl = Nt - kl and the source information is decoded if at least kl of Nt descriptions 
are received. Due to the progressive nature of the source information, we assume fl = fl+1: the more 
Codeword 1: CRC/RS Time Coding (5,1) RS Boundary  RS Coding Boundary Figure 3: Description of the MD-Like 
Allocation scheme. The dark shaded area to the right of the CRC/RS Time Coding Boundary line represents 
the bits for CRC and Reed-Solomon coding applied to each packet (horizontal channel coding). The lighter 
shaded area under the RS coding boundary staircase represents Reed-Solomon parity symbols across the 
packets (vertical channel coding). The unshaded area represents information symbols. For each (Nt,kl)RS 
codeword, kl information bits are encoded into Nt total symbols. important the information bits, the 
higher the protection. For exam­ple, in Fig. 3, the MD-Like allocation leads to the construction of 4codewords. 
The .rst one is a (5, 1)systematic MDS code (code­word 1) in which erasure of any four descriptions still 
allows to re­construct information symbol 1 and to achieve a delivered quality equal to D(R1). It is 
worth noting that, due to independent descrip­tions, the MD-Like scheme only requires to know how many 
and not which packets have been received. Thus, all the packets have roughly the same importance, and, 
in the optimization process, the second order statistics of the channel will be a suf.cient informa­tion 
for the FEC design, as described in the following. Moreover, due to the allocation of the information 
symbols across packets, rather than the sequential one as in the Basic Allocation, the .rst description 
will not contain all the most important source bits. So, the loss of the .rst packet will not jeopardize 
the reconstruction of the .rst source bits. In the example of Fig. 3, if the .rst description is lost, 
the delivered quality would be equal to D(R7), while in the Basic allocation it would be D(R0), since 
no information would be available for the source decoding. A second step of the algorithm consists in 
concatenating CRC and RS codes to each description (horizontal coding), in order to enhance the system 
robustness to channel .uctuations (both fast and slow fading). Since each description is approximately 
equally important, an equal error protection (EEP) pro.le is employed. Fig. 2(b) illustrates the proposed 
RB for the transmission of an embedded bitstreams, depicting the notation adopted in the follow­ing. 
Due to the UEP across the packets, a staircase boundary can be observed as RS coding line, while a vertical 
boundary represents the CRC/RS coding line. The Lrs symbols on the left of the verti­cal boundary are 
the RS codeword across packets, while those on the right represent the CRC/RS parity symbols. In the 
proposed allocation algorithm, we will be interested in evaluating the packet loss probability mass function 
PNt (g),g . [0,Nt], which is the probability of losing any g out of Nt total packets in the RB. When 
j = Nt - g packets are received, any l-th RS codeword across the packets with cl = j can be correctly 
decoded, and the total bit budget for the source information becomes L Rj = cl × Brs (2) l:cl =j where 
Brs is the number of bits per RS symbol. In this MD-Like allocation technique, both FEC pro.les of the 
product code need to be designed for the minimization of the expected distortion, based on the following 
problem formulation Nt L Er .f ,. [D]= min D [Rl(r, fl)]PNt (Nt -l)+D0PNt (0) {r,f } l=1 (3) where f 
=[f1,f2,...,fLrs ]is the code rate vector for the RS code across the packets. Unlike the Basic Allocation 
scheme, the MD-Like optimization does not depend on the instantaneous SNR vector. The reason can be found 
in two main factors: i) an EEP is assumed in the horizontal time coding, so the mean SNR is a suf.cient 
information to set the right amount of FEC in the time domain coding. ii) the UEP pro.le of the vertical 
coding is optimized based on the packet loss PMF, which requires to know how many and not which descriptions 
are lost. Thus, from the FEC optimization process, the second order statistics of the channel is required, 
and not the instantaneous in­formation. This means that, .rst, the FEC optimized scheme will be suitable 
for all the RBs transmitted over channels with the same second order statistics. Second, the optimization 
scheme is robust to non-ideal or outdated CSI.  2.3 Channel Model We now address the correlation between 
the channel model and the UEP pro.les. In [16], the MD-Like allocation scheme has been proposed for transmission 
of progressive images over OFDM net­works. The authors considered a frequency-selective environment and 
deduced that the level of diversity offered by the channel in the frequency domain is one of the main 
factors which affect the UEP pro.le design. In our work, we aim at studying the possible effects of the 
channel characteristics on the FEC optimization. We assume that packets are sequentially transmitted 
in time over underwater channels. We denote the coherence time as .t, and we consider that K packets 
span .t. Subdividing the Nt pack­ets into blocks of K descriptions, for this theoretical analysis, we 
assume that packets in different blocks are considered to fade in­dependently, while packets in the same 
block experience identical fades. Knowing the coherence time of the channel, the Basic alloca­tion algorithm 
can be slightly simpli.ed. In particular, we might assume that a constant level of FEC is assigned to 
packets in the same block. Assuming that the packets in the subblock are corre­lated, one level of FEC 
will offer the right amount of protection to all the K transmitted packets. For the extreme case of K 
= Nt, all the packets will be correlated, and the UEP might degenerate to an EEP. The opposite case is 
when K =1, and all the packets might experience a different channel code rate. When the MD-Like algorithm 
is considered, the correlation be­tween packets affects the packet loss PMF, which is an impor­tant parameter 
in the FEC optimization. In particular, a two-state Markov model, which corresponds to a Gilbert-Elliot 
channel, char­acterizes the channel by a good" state (G) and a bad" state (B), the probability that k 
packets are lost for a channel with K corre­lated packet is [16] PK (k)= PK (k|G)P (G)+PK (k|B)P (B) 
(4) where PK (k|G)(PK (k|B)) is the probability of having k cor­rupted packets when the channel is in 
the good" ( bad") state, and P (G)(P (B)) is the probability of being in the good" ( bad") state. Assuming 
that the subblocks are mutually independent, the PMF of losing g packets out of Nt can be derived from 
the PMF of each subblocks as follows L PNt (g)= PK (k1)· ...· PK (kL) (5) k1 ,k2 ,...,kL:k1 +k2 +...+kL 
=g where L = Nt/K is the number of independent subblocks per RB, and we assumed that all the packet loss 
PMFs per subblock are the same, since the subblocks have the same statistics. From the previous analysis, 
we deduce that the packet loss PMF of the RB depends on the coherence time of the channel, and it is 
determined by the number of combinations for g and kj . For high coherence time values (K = Nt), due 
to the limited number of combinations in losing g packets, PNt (g)is mostly determined by the PMFs of 
the individual sub-channels. This means that, when most of the packets are correlated, there is a substantial 
probability of losing or receiving most of the packets, whereas the probability of losing only a small 
number of descriptions is negligible. Given this PMF, there is no level of diversity offered by the channel 
(or degrees of freedom), which means that in most cases the RB will be entirely received or lost. Therefore, 
in order to create a level of priority in the RB, a sharp UEP is required in the vertical coding. For 
high L values (i.e., for low K values), by the Central Limit Theorem, PNt (g)approaches a normal distribution, 
leading to a high (low) probability of losing half of the (all or zero) descrip­tions. For example, when 
K =1 all the packets will be mutually independent. Since the probability of losing most of the packets 
is negligible, there is no need to assign a lot of FEC in the .rst code­words in the vertical coding. 
Therefore, the system can increase the throughput, keeping the FEC value in the RS codeword low even 
for the codewords with high priority. This would drive the system choosing an EEP pro.le as the best 
option. 2.4 Description of the Acoustic Data Set The experiment, during which the data set was collected, 
was conducted on October 2008 at the Martha s Vineyard Coastal Ob­servatory (MVCO) operated by the Woods 
Hole Oceanographic Institution [17]. The data set is particularly interesting because such environmental 
conditions as surface waves and wind speed and direction varied signi.cantly over the duration of the 
experi­ment. While the collected data sets are from only one deployment, the results about the performance 
of the considered image trans­mission techniques can be extended to other scenarios with similar geometries. 
The scenario consists of a single transmitter and four receiving systems, deployed at different directions 
and distances. In particular, systems S3 and S5 were placed 200 m and 1000 m Southeast of the transmitter, 
respectively, while S4 and S6 were similarly deployed in the Southwestern direction. The devices were 
deployed in shallow water conditions (the water depth was around 15m almost uniformly), near Martha s 
Vineyard Island from Oc­tober 18 to October 27, 2008. The temperature was almost con- Figure 4: This 
picture, representing the sea .oor, was collected by an AUV, and is an example of a typical underwater 
image. stant on the water column. The transmitter central frequency was 11.5kHz. In these conditions, 
the most important factor causing the time-variability of the acoustic propagation is the surface con­dition. 
In the simulations, we will consider the data received at system S3. The transmitted signals, from which 
we estimate the channel impulse response, consist of multiple repetitions of a 4095-symbol binary maximum 
length sequence transmitted at a symbol rate of 6.5 kbps. A transmission three minutes in duration was 
made once every two hours. A maximum length sequence is a particular pseudo-noise signal that is spectrally 
.at. Thanks to this property, it is possible to estimate the channel impulse response by comput­ing the 
correlation between the transmitted signal and the received signal. We compute the channel estimate over 
segments of the received signal that are 400 symbols long (which corresponds to 60 ms). After each estimation 
we shift the window by 100 sym­bols, which corresponds to 15 ms, resulting in an estimate every 15 ms 
over windows of 60 ms. The data were collected at high SNR in order to allow an accurate estimation of 
the channel im­pulse response. In this work we use these estimates as underwater acoustic chan­nel realizations. 
Given the availability of a channel estimate ev­ery 15ms, by assuming a symbol duration of almost 2ms 
and by assuming that the channel is constant over the interval between two estimates, we know the channel 
coef.cients at every byte in a packet. An image consists of 153 packets, each 512 bits long. Every packet 
lasts almost 1s so that all channel estimates over a three-minute period are used as channel realizations 
during the transmission of an image. In Section 3, more details on how the channel estimates were processed 
to compute the statistics of the performance will be provided.  3. SIMULATION RESULTS 3.1 Simulation 
Setup We run the simulations on the 512 × 512 gray-scale image in Figure 4. The image was encoded using 
the SPIHT [14] algorithm to produce an embedded bitstream with a compression rate of 0.3. The serial 
bitstream was allocated into a RB with Nt = 153 pack­ets, each consisting of 512binary phase-shift keying 
(BPSK) mod­ulated symbols, for a total budget of 9830 bytes. In the MD-Like allocation algorithm, we 
used MDS RS codes across the descrip­tions and there were 8 bits per RS symbol, that is Brs =8. As the 
available coding rates used in the optimization problems (1) and 20 (3), we consider {0.7, 0.8, 0.9}. 
 As a representative metric, we compute the PSNR1 of the image 40 versus the SNR averaged over an image. 
In particular, we consider 60 the low-high SNR range between 5 to 22dB. By processing the Basic MD-LiS 
ke S3, SNR=8 3, SNR=20 Basic S3, SNR=8 MD-Like S3, SNR=20         N transmitted packets t data 
set described in Section 2.4, we obtain a collection of three­ minute long sequences of consecutive instantaneous 
SNRs. We 80 then compute the sequences of channel gains from the sequences of estimated SNRs. The simulated 
communication system consists of the source encoder, a modulator, the channel with additive noise, the 
demodulator and the decoder. During a simulation run, we mul­tiply the transmitted byte stream by the 
corresponding portion of the channel gain sequence and we add noise. The result of this lat­ter operation 
is the received data stream, which is then demodulated and decoded in order to assess the communication 
performance. In the simulation we consider all the inferred channel gains for each noise power level. 
This approach allows us to study the system behavior in different SNR regimes, while taking into account 
the channel gain .uctuations that occur in realistic acoustic propaga­tion scenarios and heavily affect 
the communication performance. For both the basic and MD schemes, we compare a realistic sys­tem (labeled 
as shadowing"), in which the transmitter only knows the mean SNR per image, with a genie-aided system 
(labeled as ideal"), in which the transmitter has a perfect knowledge of the instantaneous CSI, which 
is used in the optimization process. This comparison aims at quantifying, in terms of performance loss, 
how the allocation schemes are affected by a limited CSI. Moreover, we perform an analytical and a simulation 
study for both allocation techniques. We compute analytically the packet loss probability mass func­tion 
and the PSNR, by assuming independent and identically dis­tributed (i.i.d.) packets and by precomputing 
the packet error rate (PER), from the data set. On the other hand, we obtain the simu­ 100 120 140 10 
20 30 40 50 60 L Modulated Symbols p Figure 5: FEC pro.les for Basic (in blue) and MD (in black) allocation 
schemes. The dotted (with the diamond) and solid lines correspond to 20 dBand 8 dBSNRs, respectively. 
 lation results by feeding the system with the channel realizations, and simulating realistic transmission 
of the images. It is worth not­ing that both the analytical and the simulation curves assume the same 
PER when the allocation is performed. By comparing the simulation and the theoretical curves, we show 
whether or not it is accurate to assume independence at the byte as well as the packet level.  3.2 Results 
Figure 5 shows the computed FEC pro.les, for both the Basic and the MD schemes, for two different average 
SNRs at system S3. The x-axis and y-axis indicate the number of information bytes and the packet transmission 
index, respectively. We recall here that an image is encoded into 153 packets, each of 64 bytes. Depending 
on the allocated FEC, each packet has a certain amount of redun­dancy. For this reason, the y-axis is 
limited between 1 and 153, whereas the x-axis can be between 1 and 64. The solid lines cor­respond to 
the pro.le for a middle SNR regime, whereas the dot­ted (with the diamond) lines represent the pro.les 
at a high SNR regime. Black and blue colors indicate the MD and the Basic al­location schemes, respectively. 
While the Basic allocation scheme adds FEC to each packet, the MD-like technique introduces both vertical 
and horizontal redundancy. The double level of FEC in­troduced in the MD allocation technique increases 
the transmission reliability, at the price of a reduction of transmitted source bits. However, a reduction 
of transmitted source rate is not necessarily translated into a decreasing quality of the reconstructed 
image. In 1PSNR =10log102552 /E[D]. 6 8 101214161820 SNR [dB] Figure 6: PSNR vs SNR for system S3 at 
200mSoutheast. particular, the reconstructed image quality increases accordingly to the correctly received 
information bits. Thus, the best FEC pro­.le is not the one which maximizes the transmitted source rate, 
but the one which maximizes the correctly received bits. This trade­off between reliability and transmission 
rate is investigated in the following .gure. As expected, for both the allocation schemes, the best FEC 
pro.le is reduced with the increasing of the mean SNR. Figure 6 shows the results in terms of the received 
image quality, PSNR. We remind that the PSNR represents the tradeoff between transmission source rate 
and reliability. For this reason, we de­.ne as the best FEC pro.le, the one which maximizes the PSNR. 
As expected, the MD technique outperforms the Basic allocation scheme, especially in the low-medium SNR 
regime (5 - 20dB), which will be the operational SNR regime for typical underwater acoustic systems. 
The double channel coding in the MD technique reduces the transmitted source information, but increases, 
at the same time, the reliability of the transmission. This means that the MD allocation technique is 
able to .nd the best tradeoff between transmitted source rate and reliability. Therefore for future imple­mentation, 
if memory is not a problem, the MD technique should be preferred to the basic one. As expected, the greater 
the SNR, the higher the transmission reliability, and the lower the required FEC in the RB.  (a) Basic 
allocation scheme, SNR=6 dB, (b) Basic allocation scheme, SNR=12 dB, PSNR=19.7 dB. PSNR=32.3 dB. (c) 
MD-Like allocation scheme, SNR=6 dB, PSNR=33.4 dB.    Figure 7: Image quality for system S3 at 200m 
Southeast. Both MD and Basic allocation schemes are considered for transmissions over 6 dBand 12 dBSNRs 
channels. Figure 6 refers to system S3, which is at 200m from the trans­mitter. We can observe that, 
for the Basic allocation technique, the theoretical ideal and shadowing curves are separated by 1- 3dB 
in the medium SNR range ([8 -15]dB) and by 0.5-1dB in the low SNR regime ([5 -7]dB). This behavior represents 
the perfor­mance degradation due to a limited CSI in the shadowing curves, which relies on the mean, 
rather than the instantaneous, SNR infor­mation, when independent and identically distributed (i.i.d.) 
errors over a packet are assumed. From the simulated results, it can be observed that the theoretical 
evaluation is a pessimistic estimate of the system performance. Even though the optimum theoretical FEC 
pro.le underestimates the channel quality, it actually over protects the system, thus reducing the gap 
between ideal and shadowing curves. This means that, for the considered receiver, the mean SNR is a suf.cient 
information for the design of the FEC pro.le in the basic technique. For the MD allocation, the performance 
degradation is lower than 2dB for both theoretical and simulated curves, proving the robustness of the 
algorithm to limited CSI. This is justi.ed by the adoption of FEC protection in the time domain and across 
pack­ets. From these results we can conclude that, for the considered receiver, a faster feedback would 
not give any PSNR performance improving to both the Basic and the MD allocation techniques. Finally, 
this results in terms of reconstructed images given in Fig. 7, for systems with 6 dB and 12 dB SNRs, 
provide some subjective comparisons. Here, the advantage of the MD allocation scheme can be observed 
by comparing the reconstructed images with the original one (Fig. 4). The four reconstructed images in 
Fig. 7 represent four different simulated results, already provided in terms of PSNR score in Fig. 6. 
For both the allocation schemes, it can be visually observed that increasing the SNR value improves the 
quality of the reconstructed image. More important, for the same mean SNR value, it is noticeable the 
gain that the MD al­location scheme achieves compared to the Basic one. The gain is remarkable in very 
challenging environments, such as SNR=6 dB, in which the double FEC protection of the MD allocation schemes 
makes it possible to reconstruct the image at a more than decent quality, Fig. 7(c). On the contrary, 
the Basic allocation scheme does not provide suf.cient protection against channel impairments for systems 
with SNR=6 dB, see Fig. 7(a). To conclude, this study aims at investigating and comparing the performance 
of two allocation techniques for the SPIHT algorithm. Compared to the basic method, MD is found to be 
more suitable for underwater acoustic systems in terms of PSNR and robustness against channel variability. 
For both methods, the mean SNR was found to be a suf.cient information for the FEC pro.le optimiza­tion. 
This can be justi.ed by a limited variation of the considered channel, and it might not be veri.ed in 
cases of fast fading trans­missions. Moreover, the Basic allocation technique turns out to be sensitive 
to the correlation between packets, leading to a substantial difference between simulated and theoretical 
curves.  4. CONCLUSION In this work we have performed a simulation study in order to compare the performance 
of two allocation techniques for the SPIHT image coding in case of underwater acoustic communications. 
We have shown how much the MD allocation outperforms the basic al­location and we have veri.ed the i.i.d. 
assumption for the error pro­cess at both the byte and the packet level. Moreover we have seen, in case 
of fast channel .uctuations, how robust the techniques are to imperfect CSI. Acknowledgment The authors 
would like to thank Dr. Hanumant Singh for provid­ing the underwater images. This work has been supported 
in part by the Italian Institute of Technology within the Project SEED frame­work (NAUTILUS project), 
by ONR under Grants no. N00014­05-10085 and N00014-10-10422 and by the European Commis­sion under the 
Seventh Framework Programme (Grant Agreement 258359 CLAM). 5. REFERENCES [1] R. M.Eustice, O. Pizarro, 
H. Singh, Visually Augmented Navigation for Autonomous Underwater Vehicles, in IEEE J. of Ocean. Eng., 
vol. 33, no. 2, pp. 103 122, Apr., 2008. [2] J. Ribas, D. Sura, M. Stojanovic, Underwater wireless video 
transmission for supervisory control and inspection using acoustic OFDM, in Proc. IEEE OCEANS, Seattle, 
USA, Sep., 2010. [3] V. K. Goyal, Multiple description coding: compression meets the network, in IEEE 
Signal Process. Mag., vol. 18, no. 5, pp. 74 93, Sep., 2001. [4] M. van Der Schaar, N. Shankar , Cross-layer 
wireless multimedia transmission: challenges, principles, and new paradigms, in IEEE Wireless Commun. 
Mag., vol. 12, no. 4, pp. 50 58, Aug., 2005. [5] M. Stojanovic, J. Preisig, Underwater acoustic communication 
channels: Propagation models and statistical characterization, in IEEE Commun. Mag., vol. 47, no. 1, 
pp. 84 89, Jan., 2009. [6] K. Hobin, R. Annavajjala, P. Cosman, L. Milstein, Source-channel rate optimization 
for progressive image transmission over block fading relay channels, in IEEE Trans. Commun., vol. 58, 
no. 6, pp. 1631 1642, Jun., 2010. [7] C. Murphy, H. Singh, Wavelet Compression with Set Partitioning 
for Low Bandwidth Telemetry from AUVs, in Proc. WuWNET 10, Woods Hole, USA, Oct., 2010. [8] D.F. Hoag, 
V.K. Ingle, R.J. Gaudette, Low-bit-rate coding of underwater video using wavelet-based compression algorithms, 
in IEEE J. of Ocean. Eng., vol. 22, no. 2, pp. 393 400, Apr., 1997. [9] Q.-Z. Li, W. Bing, W.-J. Wang, 
G. Xiao-ling, An Ef.cient Underwater Video Compression Algorithm for Underwater Acoustic Channel Transmission, 
in Proc. Intern. Conf. on Commun. and Mob. Comp., Jan., 2009. [10] Q.-Z. Li, W.-J. Wang, Low-bit-rate 
coding of underwater color image using improved wavelet difference reduction, in IEEE J. of Visual. Commun. 
and Image Repres., vol. 21, no. 7, pp. 762 769, 2010. [11] D. G. Sachs, A. Raghavan, K. Ramchandran, 
Wireless Image Transmission Using Multiple-Description Based Concatenated Codes, in Proc. of the Conf. 
on Data Compression, Jan., 2000. [12] B. Tomasi, P. Casari, L. Badia, M. Zorzi, A Study of Incremental 
Redundancy Hybrid ARQ over Markov Channel Models Derived from Experimental Data, in Proc. WuWNET 10, 
Woods Hole, USA, Oct., 2010. [13] L. Toni, Y. S. Chan, P. C. Cosman, L. B. Milstein, Channel Coding for 
Progressive Images in a 2-D Time-Frequency OFDM Block With Channel Estimation Errors, in IEEE Trans. 
Image Process., vol. 18, no. 11, pp. 2476 2490, Nov., 2009. [14] A. Said and W. A. Pearlman, A new, fast, 
and ef.cient image codec based on set partitioning in hierarchical trees, in IEEE Trans. Circuits Syst. 
Video Technol., vol. 6, pp. 243 249, Jun., 1996. [15] A. E. Mohr, E. A. Riskin, R. E. Ladner, Unequal 
loss protection: graceful degradation of image quality over packet erasure channels through forward error 
correction, in IEEE J. Sel. Areas Commun., vol. 18, no. 6, pp. 819 828, Jun., 2000. [16] Y. S. Chan, 
P. C. Cosman, L. B. Milstein, A cross-layer diversity technique for multi-carrier OFDM multimedia networks, 
in IEEE J. Trans. on Image Process., vol. 15, no. 4, pp. 833 847, Apr., 2006. [17] www.whoi.edu/mvco. 
  
			