
 Necessary Conditions for Boundary Representation Variance Srinivas Raghothama Vadim Shapiro Spatial 
Automation Laboratory* University of Wisconsin-Madison, USA Abstract One of the key unsolved problems 
in parametric solid modeling is a robust update (regeneration) of the solid s boundary representation, 
given a specified change in solid s parameter values. The fundamental difficulty lies in determining 
the mapping between boundary repre­sentations for solids in the same parametric family, also known as 
persistent naming. We formulate the notion of Boundary Representation (BR-)variance for solids in the 
same parametric family based on the assumption of continuity: small changes in solid s parameter values 
should result in small changes in solid s boundary rep reeentation, which may include local collapses 
of cells in boundary representations. We show that our formu­lation gives the necessary conditions that 
must be sat­isfied by any BR-variant mappings between boundary representations. These conditions are 
powerful enough to identify invalid updates in many practical situations and provide a formal criteria 
for the recently proposed heuristic approaches to the persistent naming prob­lem. 1 Motivation 1.1 Ambiguity 
of parametric solid modeling From its very inception solid modeling has been syn­onymous with unambiguous 
(informationally complete) representations of homogeneously n-dimensional sub­sets of Euclidean space 
PO, 9, 8]. On the other hand, the recent rise of solid modeling as a principal infor­mation medium first 
in engineering and now in con­ Complete address: 1513 University Avenue, Madi­son, Wisconsin 53706, USA 
Email: raghotha@cae.wise.edu, vshapiro~engr.wiec.edu sumer applications probably has to do more with 
de­velopment and successful marketing of new paramet­ric ( feature-based and constraint-based ) user 
inter­faces than with the mathematical soundness of solid modeling systems. Th@e parametric interfaces 
allow user to define and modify solid models in terms of high­level parametric definitions that are constructed 
to have intuitive and appealing meaning to the user and/or ap plication (see [11] for examples and references). 
The success of the parametric solid modeling came at a high price: the new solid modeling systems no 
longer guar­antee that the parametric models are valid or unam­biguous, and the results of modeling operations 
are not always predictable. Unpredictable behavior of the new systems is well documented in literature 
[10, 6, 24, 8], and we will con­sider some simple illustrative examples in the next sec­tion. The basic 
technical problem is that a parametr­ic solid model corresponds to a class of solids, but there is no 
formal definition or standard for what this class is [24]. The lack of formal semantics manifests it­self 
clearly through the so called persistent naming problem [10, 24]. In modern systems, every edit of a 
parametric definition is followed by a regeneration of the boundary representation (b-rep) for the resulting 
solid (boundary evaluation). Since parametric defini­tions and constraints explicitly refer to entities 
(faces, edges, vertices) in the boundary representation, every such regeneration must also establish 
the correspon­dence (a naming map g) between the pr~edit and post­edit boundary representations. The 
correspondence must persist over all valid edits, hence the term Lpersie­tent naming . But since the 
semantics of a parametric family is not well-defined, neither is the required corre­spondence. Recently, 
several heuristic schemes for persistent nam­ing have been proposed [13, 5, 22, 18] that appear to work 
well in a variety of situations. But the proposed techniques are not always consistent between themselves 
and none come with guarantees or with clearly stated limitations; they may be able to alleviate the observed 
problems in today s systems, but not solve them be cause the problems have not even been formulated 
1.3 Examples 1.2 Main contribution A commonly cited obstacle to formalizing parametric edking stems from 
the belief that in the most general case parametric edits do not seem to preserve the ba­sic structure 
of the boundary representation. Yet the naming mechanisnw proposed in [13, 5] clearly rely on the generic 
structure of the boundary representation as a primary naming mechanism. Certainly, we would ex­pect that 
the naming problem should have a unique so­lution when the parametric changes are small and the resulting 
boundary representation does not change very much. Accordingly, we propose that an intuitive notion of 
parametric class should be based on the following principle of continuity: . th~oughout a valid pammeter 
mnge, small changes in a solid s pammeter values result in small changes in the solid s representation. 
This requirement of continuity eliminates much of the unpredictable and erratic behavior of modem systems 
as described in [10, 24]. We use this principle to develop a formaI definition for Boundary Representation 
(BR­)variance for solids in the same parametric family. Im­portantly, small changes may include limited 
Iocaf col­lapsing of entities in boundary representations. A spe cial case of BR-variance is BR-invariance 
of a boundary representation, when it remains structurally unchanged. Our definitions lead to the necessary 
conditions that must be satisfied by any naming map g between bound­ary representations in the same parametric 
family. Loosely, the oriented boundary of every cell in the pr~ edit b-rep must be mapped into the closure 
of the cor­responding cell in the post-edit b-rep with the same ori­entation. This condition is powerful 
enough to identify invalid updates in many (but not all) practical situa­tions, and the algorithms to 
check them are simple. In particular, the identified conditions give formal justifi­cation to the naming 
mechanisms proposed in [13, 5], but also identify techniques that are not acceptable, be­cause they do 
not satisfy the assumption of continuity. A notion of variational claae is also prominent in me­chanical 
tolerancing and robustness [21, 26]. Notably, Stewart proposed a definition of variational class in [26] 
whkh was later used in study of polyhedra perturba­tions that preserve topological form in [2]. The assump­tions 
of continuity and continuous deformation are also mentioned informally in the naming techniques and dis­cussion 
of [6]. Our definitions are consistent with the earlier definitiona, but are stronger and stated in alge­braic 
topological terms that are more appropriate for dealing with boundary representations and mappings between 
them. Additional discussion, details, and ex­tensions to more generaf point sets and editing opera­tions 
can be found in the full paper [25]. The following examplea illustrate some of the erratic and inconsistent 
behavior during parametric updates of a solid model. These examples were created in sev­eral versions 
of two leading commercial solid modeling systems. 1 A simple solid S shown in Figure l(a) is sufficient 
to illustrate many of the relevant issues. The shown boundary representation was produced from a paramet­ric 
definition of S. The parametric definition uses a number of parameters, including parameters t and d 
that constrain the locations of featurea (slot and hole) with respect to the solid s edges as shown. 
The value of t determines the location of edge el, which in turn determines the location of the hole 
constrained by pa­rameter d. Consider what happens during a parametric edit oft. Every time tis changed, 
the system attempts to regenerate the boundary representation of the solid and establish which of the 
edges should be called el. The result of this computation is easy to determine by simply observing what 
happens to the hole constrained by d, since it explicitly references edge el. If the change in tis small 
enough not to produce any changes in the combinatorial structure of the bound­ary representation, we 
would expect to see no abrupt changes resulting from the edit. In other words, the hole and constraint 
d should move continuously with changes in the value of t.Instead, Figure 1(b) illustrates situ~ tions 
that have been observed in some earlier systems. In some cases the hole would jump on the face ~~ and 
in other situations the hole would suddenly reappear on the other side of the edge ej onto f;. In either 
case, the observed behavior would indicate that e 1 was mapped to ej; in the latter case the placement 
of the hole was also affected by the orientation of the mapped edge ej (which is opposite to that of 
e; with respect to face ~~). In both casea the assumption of continuity is vio­lated, even though the 
correct mapping clearly exists. We will formally define such a mapping in section 4.1 as Bl?-invatiant. 
Similar problems have been identified and illustrated with jumping blends by Hoffrnann [5]. The techniques 
proposed in [13, 5, 6], as well as the lat­est versions of many commercial systems, are now able establish 
the proper mapping in this simple case, but not in may more general situations. Figure l(c) shows another 
parametric update of the same solid, where the value of tisequaf to the radius of the cylindrical slot, 
and the edge el becomes coin­cident with es. Few (if any) of the latest commercial systems can handle 
such an update in a consistent and uniform fashion. A typicaf response in one system is shown in Figure 
1(d) which indicates again that e1 was mapped to e;; another system simply signaled an er­ror indicating 
that it could not locate the proper edge 1We do not identify the specific systems, because simi­lar technical 
problems are easily identified in all parametric modeling systems that rely on b-rep for internal representa­tion 
of solids.  w-A (a) Parametert controls theb-rep of thesolid el A \ (c) Continuous change -­in t collapses 
face fl observedin earliersystems (d) Figure 1: Parametric edits of a simple solid (the naming map 
could not be found). When the slot was constmcted as a hole? the latter system gives no error and simply 
maps el to e:, with the smaller hole reappearing on the other side of ej (outside the solid). Yet another 
system might delete the constraint (and the hole) with an appropriate warning message. Again, in­tuitively 
it is clear that continuous change in t should lead to the collapse of face jl and identification of 
edges el and es to e;. We will define such maps in section 4.1 as BR-collapsing. This simple example 
clearly shows that the naming map is usually developed in ad hoc fashion, is very much dependent on the 
way the solid is created, and may be internally inconsistent between different features and schemes. 
The matching methods proposed in [13, 5] will not properly handle BR-collapsing maps, though it appears 
that the techniques in [5] could be further adapted. One may also start with the solid shown in Figure 
l(d) i.e., create the hole and constrain it with respect to e;, and then increase the value of parameter 
t.One would then expect the face j; to gradually move to the right; we will call the corresponding mapping 
be­tween pr-edit and post-edit boundary representations BR-expanding. Unfortunately, a more typical response 
from a system is the one shown in Figures l(a), and the result will certainly differ from version to 
version and from system to system. The final example is shown in Figure 2. Parameter i! controls the 
location of the cylindrical feature that is unioned to the cubical body, and one of the intersection 
edges is blended.2 The change in value of t moves the cylinder from one side of the block to the other. 
The system matches the blended edge el with the edge ej in the post-edit b-rep as shown. Is there a way 
to de­termine if this update is correct? Notice there etits a continuous map between pre-edit and poet-edit 
bound­ary representations: it is a simple rigid body motion that tlips S upsid~down. But this map is 
not consis­tent with the parametric change in t, which requires that face jl is mapped into face ~{. 
While some of the proposed naming techniques will allow such edits, we will see in section 4.1 that no 
continuous change in t could produce such a boundary representation. ZBlends provide a convenient way 
to track the names of the edges [5]. Throughout the paper we will ignore the geo­metric changes in b-rep 
resulting horn blended edges. (a) original solids b-rep K (b) Modified solids b-rep L Figure 2: Discontinuous 
update allowed by the parametric modeling system 2 Formulation 2.1 Boundary representation as a cell 
complex Internally, every b-rep consists of an abstract (unem­bedded) cell complex that captures all 
combinatorial relationships between cells (vertices, edges, and faces), and geometric information that 
specifies the embeddhg for every cell in E3. We do not deal with specific data structures in this paper, 
and therefore it is not neces­sary to distinguish between the abstract cell complex and its embedding. 
Thus, we will assume that bound­ary of a solid S is reprwented by an embedded complex K (b-rep of S). 
Many different cell complexes have been used for boundary representations, including simplicial, polyhe­dra, 
and others with cells homomorphic to disks. As example in Figure 1 illustrates, b-reps of many com­mercial 
systems may contain more general cells, such as faxes with holes, circular edges, and so on; such cell 
complexes are also natural from the user s point of view. The corresponding formal definition, which 
we alao adopt in th~ work, is given by Rossignac and O Connor in [16]: a Selective Geometric Complex 
(SGC) is composed from cells that are relatively open subman­ifokis and are assembled together in a cell 
complex K. The solid s boundary IKI is the urzderlging space of such a two-dimensional (boundary representation) 
complex. 2.2 Cell maps and cell homomorphisms The cellular structure of b-reps implies the proper mech­anism 
for defining the notion of a variational class: we will consider the effect of a parametric change on 
the b­rep cell by cell. Informally, if K is the pro-edit b-rep(to ) and L is the post-edit b-rep(tl ), 
then the naming map g seeks to establish a correspondence between cells in K and cells in L. So for example, 
when tl = to, we have K = L and it should be clear that g is a cell-by­cell identity mapping. When the 
difference t1 to is very small, the correspondence between the cells does not change, even though some 
cells may continuously change their shapes. For example, in Figure 1(a), small changes in t correspond 
to a small movement of the hole on face fz and therefore to a change in the shape of fz in the post-edit 
boundary representation. As the ditTer­ence t1 tOgets Imger, so does the difference between the shapes 
of the corresponding cells; and eventually some cells may actually continuously collapse into some other 
cells. This is exactly the case in Figure 1(c) where face fl and all of its bounding edges collapsed 
into the edge es and its bounding-vertices. This cell-by-cell con­tinuous deformation is captured by 
the notion of a con­tinuous cell map (modifkl from [12]). Definition 1 (Cell map) Let K and L be two 
b-reps, and let g : IK[ -IL[ be a map such that: 1. for each cell u E K, g(u) is a cell in L, 2. dirn(g(o)) 
< dirn(cr), 3. for every u G K, g restricted to the closure of o is continuous.  The firat two conditions 
capture the notion of a cell­by-cell map. The third condition implies that g can be extended to a continuous 
map g : IKI ~ ILI [15, 17, 1]. The cell map plays a dual role: on one hand, g acts as a naming map and 
establishes the correspondence be tween the cells of two boundary representations; on the other hand 
g guarantees the continuity of deformation of the underlying space (solid s boundary). It may be instructive 
to check whether the naming maps in the examples of previous section are cell maps. Conaider the naming 
map g between the two boundary representations of the solids in Figure 1(a) and (c): g(fl) = cl , 9(e3) 
= cl , g(el) = cl , g(e2) = ez , and so on, i.e. the rest of the cells in Figure 1(a) map to their obvious 
imagea in Figure 1(c). It is easy to verify that g is a cell map, because it satisfies all three conditions 
of the definition given above: every cell in (a) is continuously mapped to a cell in L of same or lower 
dimension (note that face ~1 is mapped to edge el ) and the continuity condition is satisfied for the 
clo­sure of every cell. In particular, note that the closure of the collapsed face ~1 is mapped into 
the closure of cl . Now consider the mapping of the same boundary representation in (a) to the one shown 
in Figure 1(d): g(fl) = .21 , g(e3) = cl , g(el) = e2 , g(ez) = ez , and the rest of the cells in (a) 
map to their appropriatee images in (d). It is easy to check that g is not a cell map; for example, the 
closure of face jl contains the edge el, while ej = g(el) is not in the closure of e; = g(tl). Referring 
to Figure 2, consider the mapping g given by: 9UJ = fi !~= l!...W 9(eJ)=ej, j=l, . . ..m. where n is 
the number of faces and m is the number of edges respectively in the boundary representation. This map 
g trivialiy satisfies all three required conditiom and is therefore a cell map. However, there is also 
another cell map h between the two boundary representations: h(fl) = fz , h@) = jl , h(f3) = f3 , M4 
= ez , h(el) = cl , h(es) = es , h(ez) = e4 . This cell map h maps the loop of edges around face jl 
into the loop of edges around ~z and vice versa, and cor­responds to a rigid body rotation of 180 degreea 
about the shown z-axis. Thus given two boundary represen­tations K and L there may be more than one valid 
cell map between them. For sufficiently small parameter changes, we expect that there is also a one-to-one 
correspondence between cells in K and L. In this case, we can strengthen the definition: Definition 2 
(Cell homomorphism) A bijective cell map g : K * L is ailed a cell homeomorphi.sm between IKI and ILI 
/15). Notice that when g is a cell homeomorphism, the second condition in the definition of the cell 
map can be also strengthened: the dimension of g(a) must be equal to that of o for every cell in K. For 
example, both cell maps g and h construct above for the transformation in Figure 2 are cell homeomorphisrns. 
2.3 BR-variance and Invariance For two boundary representations K and L to belong to the same parametric 
family there must exist a (not necessarily unique) cell map g between K and L. Un­fortunately, the existence 
of such a map alone is not sufficient to assure the principle of continuity postu­lated in section 1.2. 
For example, even though the two boundary representations in Figure 2 are related by cell homeomorphism 
g, they cannot be deformed into an­other without leaving E3. The reason that the defor­mation does not 
exist may not be obvious: the modified solid is the reflection of the original one. We will see in the 
next section such maps can be identified by con­sidering the orientation of cells, which we have so far 
ignored. A more difficult situation is shown in Figure 3: the boundary representation of two linked tori 
is essen­tially the same as the boundary representation of the two disconnected tori. But despite of 
the apparent cell homeomorphism, it is not possible to deform one into another without either leaving 
E3 or violating the con­tinuity principle. If K is a b-rep(to) and L is a brep(tl), then the cent inuity 
principle requires that, as tchangesfrom toto tl, K continuously deforms into L. These observations motivate 
the following definition. Definition 3 (BR-variance) Let K, L be two bound­ary representations. A map 
F : E3 x I ~ E3 is called a Boundary Representation Variance or BR-variance of K to L if: 1. F(IK[, O) 
= IKI, 2. F(IK[,l) = [L[,  9. F(IKI, t) is a cell map that is also continuow in tE[o,l]. In standard 
algebraic topological terms, BR-variance F isa homotopy [1, 12] and can be also viewed w a con­tinuous 
family of cell maps Ft, for every value t c [0, 1]. A special case of BR-variance is a case when Ft is 
a con­tinuous family of cell homeomorphisrns, in which case F will be called BR-invariance. BR-variance 
captures the spirit of the postulated requirement of continuity and appears to be the weakest possible 
condition. But it may not be clear whether BR-variance exists for tram­formations shown in Figures 1,2, 
and 3, and more gener­ally how our detidion can be used to distinguish breps which belong to the same 
parametric family and breps which do not. Definition 4 (BR-variant map) A map g between two bounda~ representatiorw 
K and L is called BR­variant zfF(l Kl, 1) = g(]Kl) = ILl for some BR-variarwe F. T%e last definition 
depends on the ezistence of some unknown BR-variance F, which may not be (and often is not ) unique. 
In practice, only the mapping between two (b) Modified cell complex L (a) O@nsl cell complex K Figure 
3: K is homomorphic to L, but K cannot be deformed into L without leaving E3 boundary representations 
g is known, and the problem is to determine whether an appropriate F exists or not. We discuss the necessary 
conditions for existence of BR­variance in the next section and show through examples in section 4 how 
they can be used in practice. 3 Necessary Condfiions for BR-Variance 3.1 Informal statement In order 
to take advantage of the orientation informa­tion, we need to slightly modi~ the definition of the cell 
map by requiring that all cells in boundary repr~ sentation are oriented, which is usually the case in 
most boundary representations. Orientation of a cell o ~ K can be visualized as a sense of direction. 
Definition 5 (Oriented Cell Map) A map g : K ~ L is oriented cell map if it is a cell map and for eveq 
oriented cell u E K, g(u) is an oriented cell in L. The difficulty with the examples in Figures 2 is 
that the proposed cell maps between K and L do not pre­serve the relative orientation of certain cells, 
i.e. ori­ented cells of K are mapped into oriented cells of L with their relative orientation reversed. 
Since every bound­ary representation is orientable [19, 9], we will assume that Zcells are always oriented 
counter-clockwise. We will also postulate that all O-cells have positive orienta­tion. The orientation 
of a 2-cell induces a orientation on its bounding l-cells and an l-cell orientation induces a orientation 
on its bounding vertices. Roughly, the naming map g must preserve this relationship between oriented 
0,1, and 2-celle. We did not explicitly require that BR-variance map is orientation preserving, because 
orientation is a homotopy invariant and is automatically preserved through continuity [3]. Thus, at the 
very least our definitions imply that any naming map g must be an orientation preserving cell map, or 
as we explain below, the following equivalent conditions must be satiatled: 1. K and L are oriented consistently; 
 2. g is an oriented cell map; and 3. if dirn(g(a)) = dim(a), then g maps the oriented bounda~ of cell 
u E K into the oriented boundary of the image cell g(cr) E L.  3.2 Precise formulation The first requirement 
is satisfied by requiring that all 2­cells are oriented counter-clockwise and all O-cells have positive 
orientation. This assumption essentially takes care of the above requirement that two boundary rep resentations 
K and L are oriented consistently. The second requirement that g is a cell map was discussed in the last 
section; in the full paper [25] we also give equivalent combinatorial conditions that are eMy to imp­lement 
in any brep modeler. The third condition re­quires the notion of the oriented boundary operator on p-chains 
with coefficients { 1, O,+1} (mmetimes called elementary chains [1, 7]). If Cp(K) denotes the space of 
all pchaina on cell complex K, then boundary oper­ator is a linear fimction ~ : CP(K) ~ C p-l (K). Any 
oriented cell map g induces a family of chain maps gP in every dimension p = O,1,2, defined as follows. 
Definition 6 (Chain map) Letg: K + L beanori­entation preser-oing cell map. For each dimension p, dejine 
a chain map gP : CP(K) ~ CP(L) m follows. 1. if u is a p-cell in K and g(a) is a p-cell in L, 9P(U) = 
9(O); 2. if dim.(g(a)) < dim(a), gp(u) = O;  9. gp(alal +... +anan) = algp(m)+.. .+angp(an). Then 
it is known [1, 3, 12] that the family of such chain maps satisfy the following commutative diagram. 
CP(K) Jz CP(L) 1 a 1 a CP.l(K) ~ CP-I(L) And in particular, for every orientation preserving cell 
map the following simple condition is satisfied for each oriented pcell u E K: (1)9P-l(NU)) = a(gp(u)). 
Together with the definition of an oriented cell map, (1) gives necessary and sufhcient conditions for 
g to be an orientation preserving cell map, which is in turn a necessary condition for g to be BR-variant. 
4 BR-variant naming 4.1 Examples revisited Consider the naming map between the solids in Figure l(a) 
and (c). The cells in the top view of the two solids are shown in Figure 4. The semantics of the update 
collapses the face fl and its boundary into the edge e; and its bounding vertices. This BR-variance is 
reflected in the BR-variant naming map g as follows: g(fl) = elf, g(e3) = cl , g(el) = cl , g(e2) = e2 
, and the implied map for the respective vertices. Notice that g is many-to-one. A many-to-one BR-variant 
map will be called BR-collapsing. Let s check the necmary conditions in terms of the induced chain maps 
gl and 92: 92(fl) = 07 92(i2) = f;) 92(f3) = f:; 91(e2) = 4, 91(e6) = 4, 91(e7) = 4, 91(4 = 0)91(4 = 
0, 91(fa) = 4, 91(e8) = .&#38;, gl(e3) = ej. A simple check shows that the necessary condition ~(gz(~l)) 
= gl (Wtl)) holds, because ~(gz(~l)) = 8(0) = O,and 91(W1)) =91(e5+el+e4+e3) =O+e{+O ej =0. The rest 
of the cells remain essentially invariant under the naming map, and it is easy to check that the neces­sary 
condition holds for all other cells in the boundary representation. Observe that the inverse map g-1 
from the solid in Figure 1(c) to (a) is not BR-varizmt; in fact it is not a valid cell map because it 
maps a ondimenaional edge e; to a two-dimensional faxe .fl. Nevertheless, such maps appear useful and 
are allowed in many systems. Therefore we will say that a ont+to-many relation g is BR-expanding map 
if its inverse is BR-collapsing. Now consider the apparent naming map between the solids in Figure l(a) 
and (d): 9(fl) = el l 9(f3) = f3 , g(e3) = cl , g(el) = ez , g(ez) = ez . We already know that this 
map g is not BR-variant (brxause it is not a cell map), and it is easy to verify that the necessary condition 
does not hold either. The induced chain maps are: g2(fl) = 0, 92(f2) = f:, 92(f3) = f:, g(e4) = O, gl(es) 
= O, gl(el) = ej, 91(e3) = ei, gl(e2) = ej, and the lefi and the right hand side of the equation (1) 
evaluate to different chains: q92(fl)) = 8(0) =0, 91(~(fl)) = 91(e5 + el + e4 + e3) = O+ej+O e\=ej e{. 
 Clearly, g ia not BR-collapsing and the inverse map g-1 cannot be BR-expanding. Next consider the example 
in Figure 2. We described two distinct naming maps g and h in section 2.2, and argued that neither of 
them is appropriate but for dif­ferent reasons. We claimed that the naming map g com­puted by a commercial 
system ia not BR-variant because it is not orientation preserving. Indeed, g~(a) = g(a) for all cells 
in the boundary representation, because no cells have been collapsed, and in fact there is a one-to­one 
correspondence between the pm-edit and post-edit boundary representations. Yet, checking the necessary 
condition for face f3 we see that is not equal to 91(W3)) =91(el +e2 +e3 +e4) = 4 +e~ +ei+ei. Th~t ~(gz(fs)) 
= 91 (~(f3)) and the similar rever­sal of orientation can be verified for all other facm in the boundary 
representation; this showa that g is an orientation-reversing map and is not BR-variant. V2 v6 e5 V5 
V3e4 V2 V8 e8 V7 fl) el f3 e2~ (59 e7 e3 ) llA f+ e2 6f2p~ M f2)1 I E: ~~~ V1 V3 V4 V4 e5VI V5 e6V6 
e3 (b) Top view of L (a)Top view of K Figure 4: Top view of oriented boundary representation of the 
solid in Figure 1. But now consider the necessary condition for the sec­ond naming map h for the same 
solids: h(fl) = fz , h(f2) = fl , W) = f3 > h(eA) = eZ , h(el) = eI , h(es) = es , h(ez) = eA . and so 
on. Notice that h reverses the orientation of all adgas connecting ~1 and tz. Checking the necessary 
condition on this oriented cell map: ~(h2(~3)) =~(j~) = e~ e: e! e~ = hl(~(.fs)) = hl(e4 + el + ez + 
es) = e! e; e~ e~. Similarly, one can check that the map h does satisfy the necessary condition for 
all other cells in the boundary representation and is a BR-variant map associated with the 180 degree 
rotation of the solid about X-axis. Fur­thermore, h is BR-invariant map, because it is a cell homeomorphism. 
Unfortunately, this BR-invariance is not consistent with the intended semantics of the para­metric edit. 
And in fact in thu example, due to sym­metry, there are many other BR-inwiriant maps (e.g. rotation about 
ZhxiS by 90 degrees.) The guarantee of BR-variance (or invariance) should not be confused with the guarantee 
of the correct semantics of the parametric update. 4.2 Comparison with the proposed naming methods In 
the typical scenario described in section 1, pr~edit b-rep K and post-edt b-rep L are given, and the 
sys­tem attempts to match the cells in K with the cells in L, i.e. to construct the naming map g : K 
~ L. Several heuristic methods have been proposed for constructing the naming maps g [13, 5, 6, 18, 22] 
in a variety of situ­ations, including those where BR-variant maps may not exist, The naming techniques 
proposed by Kripac[13] and Hoffrnann et al [6, 5] rely on several common meth­ods for constructing the 
names for cells in boundary rep­resentations. In particular, both start with the names of the primitive 
surfaces appearing in the parametric defi­nition and advocate constructing the names for individ­ual 
cells using (1) list of adjacent cells in the boundary representation, and (2) relative orientation of 
the cell with respect to the adjacent cells. In generaI, these two techniques are not sufficient to uniquely 
match cells in two b-reps, and a number of additional techniques must be employed. Focusing on the two 
common methods for naming cells, intuitively they correspond respectively to the two conditions that 
ensure an orientation preserving cell map: the adjacency information is a means for extending the continuity 
of the naming map to the whole boundary of the solid (as required by the third condition in the defirdtion 
1), and the matching of relative orientation of cells is dhctly related to the necessary condition (1) 
in section 3. On closer examination, it appears that [13] may map a cell a ~ K to g(a) E L when all cells 
adjacent to u are mapped into cells adjacent to g(u), without consid­ering the orientation information. 
But * clearly shown by example in Figure 2, such naming map g does not have to preserve orientation and 
may not be BR-variant. By contrast, [6] matches u to g(o) only if the adjscent cells also preserve orientation. 
Both methods will find the BR-invariant map, if it exists and every cell haa a unique name. It is not 
clear whether BR-invariance is always enforced when heuristic methods are used to resolve multiple matches 
between cells wit h the same names. Neither of the above methods are able to handle BR­collapsing maps 
as defined in this paper, because both [13] and [6] require exact match of the adjacent cells. For example, 
edge el in Figure 1(a) is adjacent to faces il and ~3, while the image of face ~1 ia not a face in the 
post-edit boundary representation of Figure l(c). Thus, the proposed naming methods will never match 
el to e;. More generally, all of the proposed methods preserve the dnension of the mapped cells, which 
is not the case for BR-collapsing and BR-expanding maps. Based on our results, it may make sense to redefine 
the adjacency conditions to be consistent with our definition 1 of cell map (additional details can be 
found in [25]). Rossignac observed that when every cell in a b-rep can be represented by a Boolean (set-theoretic) 
expres­sion on primitive surfaces and halfspaces, such expres­sion can be used as a persistent name for 
the cells [22]. Boolean set-theoretic representations place no restric­tions on topology of the resulting 
boundary representa­tions, imply very different parametric family [24], and do not provide a mechanism 
for enforcing or even check­ing BR-variance. A common method of matching cells in pre-edit and post-edit 
b-reps that can be observed in some commer­cial systems combmea Boolean naming with the sequen­tial ordering 
of the entities with respect to some exter­nal direction. For example, a system may attempt to distinguish 
between edges el and ez in Figure l(a) by indexing them along the length of the face (x-axis in the figure). 
This method is most likely responsible for producing the solid in Figure l(d) instead of (c): the identification 
of el with e3 changes the adjacency infor­mation so that e; appears to be the Yimt edge to fit the old 
name of e1. 5 Conclusion 5.1 Sufficient conditions for BR-variance We have argued that the proposed principle 
of conti­nuity and the implied notion of BR-variance should be accepted as the baais for formally defining 
the seman­tics of parametric family. In particular, a number of problems can be now formulated precisely, 
including: 1. Given a naming map g between two b-reps K and L, check if g is BR-variant; 2. Determine 
if K and L belong to the same para­metric family, or, equivalently, determine if there exists a BR-variant 
map between K and L corre­sponding to the particular parametric edit. 3. For K and L in the same parametric 
family, con­struct the naming BR-variant map g that captures the semantics of the parametric edit.  
 Our formulation shows that it is easy to check whether a given map g is an orientation preserving cell 
map, but this is not sufficient for solving the above problems. The main difficulty lies in the need 
to know what happens to the boundary representation not only at times tO and tl but also for all values 
of t E [to, tI]. To guarantee that g is BR-variant, we must show that it can be extended to a continuous 
map on the whole of E3. To be more precise, g will satisfy all the require ments of BR-variant map if 
there exists a continuous orientation preserving map h : E3 ~ E3 such that h restricted to K is a cell 
map g from K to L. [1] This sufficient condition for BR-variance cannot be enforced by considering only 
the structure of the two­dimensional boundary representations. Other possible approaches to constructing 
BR-variant maps include con­structing the corresponding map h as a cell map on the three-dimensional 
decomposition of E3 as suggested in [23, 24], or assuring the properties of h by further re stricting 
how g modifies individual cells [26, 2]. 5.2 Significance and limitations The assumption of continuity 
makes sense from an en­gineering point of view and can serve as a starting point for developing universal 
standards in parametric mod­eling. The proposed definition of BR-variance and the implied necessary conditions 
can be employed in nu­merous other applications, including shape optimiza­tion, tolerancing, and constraint 
solving. For example, some heuristic methods proposed in [4] for identifying the correct solutions in 
constraint solving resemble the necessary conditions implied by our definitions, and the use of homotopy 
was proposed in [14]. It may appear that accepting the principle of conti­nuity and BR-variance as a 
basis for parametric mod­eling is too limiting because a number of practically important parametric edits 
cannot be described by BR­variance. These include merging and splitting entities in boundary representations, 
(disappearance of holes, and other common edits. Recall that the main pur­pose of orientation preserving 
cell map was to enforce the continuity of the map g : IK I ~ [Ll in a cell-by-cell fashion; a natural 
extension of this principle would allow structural changes in the cells of K and L. For examp­le, subdividing 
or merging cells in a solid s boundary representation, e.g. as proposed in [16], has no effect on the 
boundary set itself (the underlying space). In [25] we explain how more general edits can be defined 
by a sequence of splitting, merging, BR-collapsing, and BR-expanding mappings. Acknowledgements This 
research is supported in part by the National Sci­ ence Foundation CAREER award DMI-9502728 and grant 
DMI-9522806. [1] Max K. Agoston. Algebmic Topology. Marcel Dekker Inc, New York, 1976. [2] L. E. Andersson, 
S. M. Dorney, T. J. Peters, and N. F. Stewart. Polyhedral perturbations that pre­serve topological form. 
Computer-Aided Geometric Design, 12:785-799, 1995.  [3] M. A. Armstrong. Basic Topology. Springer-Verlag, 
New York, 1983. [4] W. Bouma, I. Fuclos, C. Hoffmann, J. Cai, and R. Paige. A geometric constraint solver. 
Tech­nical report, CSD-TR-93-054, Purdue University, Department of Computer Science, August 1993. [5] 
V. Capoyleas, X. Chen, and C. M. Hoffmann. Generic naming in generative, constraint-baaed de­sign. Computer-Aided 
Design, 28(1): 17 26, 1996. [6] X. Chen and C. M. Hoffmann. On editability of feature-based design. Computer-Aided 
Design, 27(12):905-914, 1996. [7] J. G. Hocking and G. S. Young. Topology. Dover Publications, New York, 
1961. [8] C. H. Hoffmann and J. R. Rossignac. A road map to solid modeling. IEEE 7kansactons on Visualization 
and Computer Gmphics, 2(1):3 10, March 1996. [9] C. M. Hoffrnann. Geometric and Solid modeling. Morgan 
Kaufman, USA, 1989. [10] C. M. Hoffrnann. On semantics of generative geom­etry representations. In Proc. 
19th ASME Design Automation Conference, pages 411-420, 1993. [11] J. Hoschek and W. Dankwort. Pammetric 
and Variational Design. B. G. Teubner, 1994. [12] Christine Kinsey. Topology of Surfaces. Springer-Verlag, 
New York, 1993. [13] J. Kripac. A mechanism for persistently nam­ing topological entities in history-based 
paramet­ric solid models. In 3ni ACM Symposium on Solid Modeling and Applications, Salt Lake Cit~j Utah, 
May 1995. (141 H. Lamure and D. Michelucci. Solving geomet­ric constraints by homotopy. In 3rd ACM SW­posium 
on Solid Modeling and Applications , Salt Lake City, Utahj hfay, 1995. [15] James R. Munkres. Elements 
of Algebraic TopoL Ogy. Addison-Wesley, Reading, Massachusetts, 1984. [16] M. A. O Connor and J. R. Rossignac. 
SGC: A di­mension independent model for pointsets with in­ternal structures and incomplete boundaries. 
Tech­nical report, IBM Research Report, RC14340, 1989. [17] M, M Postnikov. Lectures in Algebraic Topology. 
Nauka, Moscow, 1983. [18] A. Rappoport. Displayable-selectable models and boundary representations in 
geometric operation graphs. In Theory and Pmctice of Geometric Mod­eling (Blaubeuren II). Tubingen, Germany, 
October 1996. [19] A. A. G. Requicha. Mathematical models of rigid solid objects. Technical report, TM-28, 
PAP, Uni­versity of Rochester, Rochester, NY, November 1977. [20] A. A. G. Requicha. Representations 
for rigid solids: Theory, methods and systems. ACM Computing Surueys, 12:437 464, December 1980. [21] 
A. A. G. Requicha. Representation of tolerances in solid modeling: Issues and alternative approaches. 
In M.S Pickett and Boyse J.W., editors, Solid Modeling by Computers. Plenum Publishing Corp, USA, 1984. 
[22] J. R. Rossignac. CSG formulations for identify­ing and for trimming faces of CSG models. In CSG 
96, Winchester, UK. Information Geometers Ltd, April 1996. [23] V. Shapiro. Maintenance of geometric 
representa­tions through space decompositions. International Journal of Computational Geometry and Apphn­tions, 
to appear. [24] V. Shapiro and D. L. Vossler. What is a parametric family of solida? In 3rd ACM Symposium 
on Solid Modeling and Applications , Salt Lake City, Utah, May, 1995. [25] S.Raghothama and V. Shapiro. 
Boundary represen­tation variance in parametric solid modeling. Tech­nical report, SAL 1997-1, University 
of Wisconsin, Madison, WI, January 1997. [26] N. F. Stewart. Sufficient condition for correct topo­logical 
form in tolerance specification. Computer-Aided Design, 12:39-48, 1992.  
			