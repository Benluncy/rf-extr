
 egiv wcon eshowho hma tthough Kw wowcon poin ewindo eexpr be perm ein linearmax-plusrecurrenceequation.Wethenestablishthe 
maintheoreticalresultsofthepaperbyshowingthelinkbe­tweenTCPthroughputandmax-plusLyapunovexponents. InSection3,weconsidertheclassofdeterministicmod­elsandshowperiodicityresultstogetherwithlinksbetween 
throughputandmax-plusmatrixeigenvalues.InSection4, weconsidertwoclassesofstochasticmodelsrepresentingthe 
randomperturbationscreatedbycrosstrafc.InSection5, wegiveabrieflistoffurtherquestionsandextensionsthat 
canbetreatedalongthesamelinesandforwhichanalytical formulasextendingthoseofthebasiccases(oratleastnew 
simulationmethodsbasedonproductsofrandommatrices) canbeexpected. 2. MAX-PLUS REPRESENTATION 2.1 The max-plus 
algebra Roughlyspeaking,thescalarmax-plus\algebra"isthesemi­ringstructureoverthereallinewhereonereplacestheaddi­tionbymax(denoted8)andthemultiplicationbyplus(de­noted0).Itisthefactthat0isdistributivew.r.t.8which 
allowsonetoextendclassicalconceptsoflinearalgebrato thisframework,andinparticularmatrixtheory.Thisscalar 
semi-ringisdenoted(Rmax,8,0),whereRmax=R[f;1g isthereallinecompletedby;1,theneutralelementfor (Rd d 8.Inwhatfollows,wewilldenotemax,8,0)thesetof 
squarematricesofdimensiondinthisalgebra,wherethe twooperations8and0havethefollowingmeaningwhen appliedtomatrices: 
(A8B)ij=Aij8Bij=max(Aij,Bij),  2.3 From feedback to window LetACK(n)denotethefow/congestionfeedbacksignalgiv­inginformationonthestateofthenetworkseenbypacket# 
n.Forexample,ACK(n)=1ifneitherlossnortimeoutare experiencedbypacket#n,otherwiseACK(n)=0which meanseitherloss(LO)ortimeout(TO). 
Inthedeterministiccase,atthetimeofthereceptionof signalACK(n)(eitherthereceptionoftheacknowledgment ofpacket#n,orthedetectionofitslossortimeout),the 
windowsizeisupdatedaccordingtothefollowingrule: W(n)=F(W(n;1),ACK(n)),n0,(1) withsomeinitialconditionW(0)=1. 
OncethesequencefACK(n)gisknown,theaboverecur­rencerelationgivesthereferencewindowsizeprocessfW(n)g. NotethatW(n)isthewindowsizeatthereceptionoftheac­knowledgmentofpacket#nbythesource.Theassociated 
efectivewindowsizeisbydefnition wn=(int)W(n)=bW(n)c:(2) Weassumethatthereferencewindowsizetakesitsvalues 
* inafnitesetwithmaximumelementW.Wewilldenote ** w=bWc. Wealsoassumethattheevolutionofthewindowsizecanbe 
decomposedintotwophaseswiththefollowingproperties: increasingphase(ACK1):0:F(W(n),1);W(n):1, M decreasingphase(ACK0):1:F(W(n),0)<W(n): 
0Bkj=max(Aik+Bkj): (A0B)ij=Aik 1<k<d 1<k<d Formoredetailsonthisalgebra,whichisalsousedforQoS guaranteesinnetworks[6],thereadermayreferto[3]or[6]. 
 2.2 The network model Ourbasicmodelconsistsofasinglesourcesendingpackets toasingledestinationoverapathmadeofKroutersin 
series.Thetransmissionofthepacketsofthisreferencefow isassumedtobeTCPcontrolled.Eachrouterisrepresented 
byasingleserverqueue.Eachqueueservesthepacketsof thereferencefowaswellasthoseofotherfows,whichwill bereferredtoascrosstrafcfowsinwhatfollows.Each 
routerisassumedtobeaFIFOqueueforthepacketsof thereferencefow.Thenthpacketofthereferencefow arrivingatqueueirequiresthereanaggregatedservicetime 
Oi(n).IncaseofaFIFOrouter,thisaggregatedservice timecapturesboththeprocessingtimeofthispacketby Inthefollowing,weallowFtodependonasequencef8(n)g, 
where8(n)givesthethresholdthatseparatestheslow-start phasefromthecongestion-avoidancephase.Inthiscase,the 
pair(W(n),8(n))isupdatedaccordingtotherefnedrule: W(n)=F(8(n;1),W(n;1),ACK(n)),(3) 8(n)=¢(8(n;1),W(n;1),ACK(n)),(4) 
 Herearetwoidealcasesofparticularinterest,whichrepre­sentsimplifedversionsofTahoeandReno: 1.TCPTahoe: 
¢(8(n;1),W(n;1),1)=8(n;1), ¢(8(n;1),W(n;1),0)=baW(n;1)c, F(8(n;1) ,W(n;1),1)=  8{ : { * min(W(n;1)+1,W),ifW(n;1)<8(n;1),therouterandthatofthebacklogofcrosstrafcpackets 
* interleavedbetweenthearrivaltimeofpacket#n;1and incorporates W(n;1),ifW(n;1)=W, thatofpacket#ninqueuei.Themodelalsomin(W(n;1)+1,W 
* ),otherwise: wn;1 somepropagationdelaysbetweenrouters.Thepropagation delayfromrouteritojwillbeassumedtobedeterministic 
andwillbedenoteddi j. F(8(n;1),W(n;1),0)=1: 2.TCPReno:thesameasabovebutwiththefollowing adaptation: 
Theinputrateiscontrolledbyadynamicwindowsize.This windowmechanismcontrolsthemaximumnumberofpack-F(8(n;1),W(n;1),LO)=max(1,baW(n;1)c), 
etssentbythesourcethathavenotbeenacknowledgedby F(8(n;1),W(n;1),TO)=1: thedestination. Here,0<a<1and8(0)areparametersandW(0)=1. 
Inthefollowingexamples,wewillmainlyconsiderthecase a=1/2. 2.4 From window to dater Intheseformulas,M(n)andM0(n)aregivenby: 
Inwhatfollows,weassumethattheinputqueueissaturated (Pi Pi;1 (thenonsaturatedcasecanbeconsideredalongthesame 
k=jOk(n)+k=jdkk+1,ifi?j, (M(n))= ij linesasexplainedinx5).Thenthenetworkbehavesasa ;1, ifi<j, closednetwork,thethroughputofwhichgivesthemaximal(Pi 
; +Ok(n))+dKifj=K, rateatwhichthesourcecansendpacketswhilekeepingtheM0k=1(dk;1k0, (n)= ij sourcebuferstable[2]. 
;1, ifj<K, Letxi(n)bethetimeatwhichpacket#nstartsitsaggre­gatedserviceonrouteri(thisisthetimewhenthispacket 
isheadofthelinewithinthesetofpacketsofthereference fow). SOURCE DESTINATION Letyi(n)=xi(n)+Oi(n)bethetimewhenpacket#n 
leavesrouteriandletO0(n)=0.Letvnbethewindowsize experiencedbypacket#n+1,whenitissentbythesource. Ingeneral,vnandwn(defnedabove)donotcoincide.Ifthe 
sequencefvngisknown,thenfyi(n)g,0:i:K,n?1, satisfestheequations: y0(n)=yK(n;vn;1)0dK0, yi(n)=[yi;1(n)0di;1i8yi(n;1)]0Oi(n),i=1,:::,K: 
Inthismodel,thetransmissionofacksfromthedestination tothesourceisrepresentedbyasimpledelaydK0.One canrepresentthisbackwardrouteasasequenceofrouters 
similartothatoftheforwardroutewithonlyslightmodif­cationsofthebasicmodel. R1K WedefneY(n)=(y1(n),y2(n),::,yK(n))2max,and 
*tK:w.1 Z(n)=(Y(n),Y(n;1),::,Y(n;w+1))2Rmax: Thelastvectorwillbereferredtoasthedatervectorinwhat follows. 
* RK K LetMi,i2f1,::,wg,begivenmatricesofmax.Below, RK:w.K:w. (M1jM2jjMw.)denotestheblockmatrixofmax, 
whereblocksareofsizeKxK;allblocksareequaltothe RK K matrixEofmaxwithallitsentriesequalto;1,butfor thefrstlineofblockswhichisM1,M2,:::,Mw 
.. Lemma1.[Max-plusrepresentation]Ifthesystemisini­tiallyempty,andifthesequenceofexperiencedwindowsizes 
isfvngn2N,thenthedatervectorsZ(n)satisfythefollowing max-plusmatrixrecurrencerelation: Z(n)=Avn;1(n)0Z(n;1),n?1,(5) 
whereZ(0)=(0,::,0)tand A1(n)=(M(n)8M0(n)jEj::jE)8D, 0 A2(n)=(M(n)jM(n)jEj::jE)8D,:::, 0 Aw.(n)=(M(n)jEj::jEjM(n))8D: 
* andDisthesquarematrixofdimensionKwwithallits entriesequalto;1butforthoseoftheformDK+i i,i= 1,:::,K(w 
* ;1),whichareallequalto0. Proof.Theproofisimmediatefromthedynamicsestab­lishedfortheyk(n)variableswhenexpandingthemax-plus 
product(5)coordinatebycoordinate. Remark1.Atthelevelofrepresentationadoptedhere, nodiferenceexistsbetweenpacketsandretransmittedpack­ets.Inparticular,wewillmakenodiferencebetweensend 
rate,throughputorgoodput[12].  2.5 Example of evolution Hereisanexplicitpathwiseevolutionofthedatervectorand 
* thewindowsize:wetakeK=5,w=4and(O1(n),,O5(n)) =(1,1,2,1,1)foralln.Weconsideraperiodicwindowsize evolution(whichisthatofTCPTahoewithoutslowstart, 
cf.x3): (v0,v1,v2,:::)=(1,1,2,2,2,3,3,3,3,4,1,1,2,2,2,:::): # packet sent (vn) 1(1) 2(1), 3(2) 4(2) 
5(2), 6(3) 7(3) 8(3) 9(3), 10(4) 11(1) 1(2) 2(2) 3(3) 4(3) 5(3) 6(4) 7 8 9 10(1)packets ACKs (wn) Forinstance,packet#6experiencesawindowsizeofv5=3, 
afactthatwedenote6(3)onthefgure:thismeansthatthe admissionofpacket#6takesplaceatthetimewhenthe acknowledgmentofpacket6;3=3isreceived. 
 2.6 From dater and window to feedback 2.6.1 Deterministic feedback Thedeterministicmodelforthedetectionoflossesandtime­outsis: 
ACK(n)=G(vn;1,Z(n)):(6) HereZ(n)istheequivalenceclassofthedatervector(de­fnedinLemma1)fortheequivalencerelation:Z.Yiffor 
alli,Zi=Yi+cforsomeconstantc,whereasvn;1isthe windowexperiencedbypacket#n.Hereareafewbasic examples: 
RatebasedlossdetectionAssumeonecandeduce someestimate1/O * (n)ofthecurrentbottleneckser­vicerateinthenetwork,andsomeestimateS(n)of 
thecurrentroundtriptime,bothfrom(vn;1,Z(n)); thenitmakessensetostatethatonedetectsa(con­ vn;1 gestion)losswhentheaveragesendrateS(n)reaches 
thebottleneckrate,namely (G1):ACK(n)=0(Tahoe),LO(Reno), vn;11 if: S(n)O*(n) BuferoverfowdetectionIfthereisamaximal 
bufercapacityof;iforthereferencefowonrouteri, thenitmakessensetostatethat (G2):ACK(n)=if91:i:Notethateither;iyi;1(n);yi(n;;i) 
* 0(Tahoe),LO(Reno), K,yi;1(n)+di;1i<yi(n;;i): * <winwhichcasethevaluesof canberetrievedfromZ(n)indeed; 
or;i?w,andthennolosscaneveroccurforthe referencefowonrouteri. TimeoutdetectionInthiscase,thefunctionGalso 
admitsthevalueRTO(n)ofthetimerforpacket#n asanadditionalargument;thisvariableisbuiltfrom movingaveragesoftheprecedingRTT'sbyarecur­rencerelation(see[14]and[15]). 
(G3):ACK(n)=0(Tahoe),TO(Reno), ifyK(n);y0(n)+dK0RTO(n): Sincey0(n)=yK(n;vn;1)+dK0,thisconditioncan alsoberetrievedfrom(vn;1,Z(n))atleastinthecase 
** whenvn;1<w(incasevn;1=w,onemorestepof thedaterhistoryisinfactneeded). LargeservicetimesorRTTHereisamodelinthe 
samespiritas(G2)or(G3)butsomewhatsimpler.In caseofrandomservicetimes,itmakessensetoas­sumethatapacketofthereferencefowexperiences 
lossand/ortimeoutincaseoflargeenoughaggregated servicetimeononeoftherouters,orincaseoflarge enoughsumofitsaggregatedservicetimes: 
(G4)-Tahoe:ACK(n)=0,ifO(n)2B,1otherwise, whereO(n)=(O1(n),:::,OK(n))andwhereBisacer­tainsubsetofexpressingoneoftheaboveproper- 
RK P ties(e.g.OiXfortimeoutorOiYiforsomei, i forlosscreatedbyalargecrosstrafconsomerouter etc.)and 8 
{LO,ifO(n)2C, (G4)-Reno:ACK(n)=TO,ifO(n)2D, { :1,otherwise, RK whereCandDaresubsetsofinthesameveinas 
above. Remark2.Inwhatfollows,wewillalwaysassumethat thedetectionoflossisinstantaneous,namelythattheefect 
ofthelossofpacket#nintermsofwindowsizeisapplied frompacket#n+1on.Thisisofcourseanapproxima­tionincomparisontowhathappensefectivelyviathetriple 
duplicatemechanism. 2.6.2 Stochastic feedback Inthissecondandmoregeneralcase,thefeedbacksig­nalsfACK(n)garealsofunctionofsomerandomperturba­tionsrepresentedbyani.i.d.f0,1g-valuedrandomsequence 
f'(n)g.Moreprecisely,(6)isreplacedby ACK(n)=;(vn;1,Z(n),'(n)),(7) with;(vn;1,Z(n),1)=G(vn;1,Z(n))forbothTahoeand 
Renoand,forTahoe;(vn;1,Z(n),0)=0,whereasforReno ( LO,ifG(vn;1,Z(n))is ;(vn;1,Z(n),0)= TO,ifG(vn;1,Z(n))= 
Wedenoteptheprobabilitythat'(1)=0.Thep=0leadsbacktothedeterministicschemeabove. 1orLO; TO: casewith described 
Thisstochasticmodelistobecomparedtothatof[13], whereagloballossprobabilityisusedtocapturebothran­dompacketlossesandlossesduetocongestion.Incontrast, 
inthisrefnedstochasticmodel,thesetwomechanismsare separatelydescribed:randompacketlossesconstitutean 
i.i.d.processindependentofallotherelementsofthenet­workandarecapturedbythesequencef'(n)g(pisthen theprobabilitythatapacketislostduetorandompertur­bations),whereascongestionbasedlossesarecapturedby 
theGfunction. Modelswithrandomtimeoutsinplaceof(orinadditionto) randomlossescanbeconsideredalongthesamelines. 
 2.7 Global dynamics and throughput 2.7.1 Simpli.ed dynamics Forthesakeofeasyexposition,wewillfrstdescribethe 
globaldynamicswhenmakingtheapproximationthatwn = vnforalln.Wewillseelateronhowtocorrectthis.Un­derthissimplifcation,theoveralldynamicsisconstructive: 
ifoneknowsW(n;1)andZ(n),thenonecancompute ACK(n)fromeither(6)or(7);thisinturnsallowsone todefneW(n)andhencewnusing(1)and(2).Finally, 
theknowledgeofvn =wnandZ(n)allowsonetocompute Z(n+1)thanksto(5).Wesummarizethisinthefollow­ingtheoremwhichreferstothefamilyofmax-plusmatrices 
* Ai(n),n?0,1:i:w,defnedinLemma1andtothe functionsFand;defnedabove. Theorem1.Undertheforegoingassumptions,these­quenceofvectorsfZ(n),W(n)gsatisfestherecurrencere­lation 
Z(n)=AbW(n;1)c(n)0Z(n;1),(8) ; W(n)=FW(n;1),;(W(n;1),Z(n),'(n)),(9) n?1,withinitialconditionZ(0)=(0,::,0)tandW(0)=1. 
Intheseequationsf'(n)gisani.i.d.f0,1g-valuedsequence representingrandomlosses('(n)=1incasethereareno 
suchlosses). Remark3.Equations(8)and(9)aregivenhereinthe simplestcasewhereFisnotafunctionof8(n;1)andwhere 
;isnotafunctionofRTO(n).Inordertohandlethegen­eralcase,oneshouldofcourseaddtheevolutionequations forthevariables8(n)andRTO(n)tothesetworecurrence 
relations. TheequationsinTheorem1arethebasisforthealgebraic simulationschemealludedtointheintroduction.Sincethe 
* matricesA(n)areofdimensionKw,andsinceonly wn;1 matrix-vectorproductsarerequired(inadditiontothecom­putationoftheFandGfunctions,thecostofwhichishere 
neglected),onecansimulatethecontrolledtransmissionof * npacketsthroughanetworkofKroutersin2n(Kw)2 op­erationsonasingleprocessor.Thiscanbesignifcantlyre­ducedwhenusingthefactthatthematricesareinfactquite 
sparse. 2.7.2 Exact dynamics Inordertodescribetheexactdynamics(namelythatwhere onedoesnotmakethesimplifcationvn 
=wnanymore),one shouldkeeptrackofthehistoryofthereferencewindowsize * defnedinx2.3.LetW(n)=(W(n),:::,W(n;w+1))be 
thishistory,withtheconventionW(k)=1ifk:1.The experiencedwindowsizevnisthenobtainedbypickingthe integerpartoftheappropriatecoordinateoftheW(n)vec­tor.Hereisthegenericpartoftheprocedureallowingone 
toselecttheappropriatecoordinate: v=bW(n)c; for(k=1;k<v;k++) if(bW(n;k+1)c==bW(n;k)c+1) v--; Thisprocedure,whichisthattobeusedduringtheincreas­ingphaseofthereferencewindowsizeprocess,stemsfrom 
theobservationthatvnisequaltobW(n)cifthewindow sizedoesnotchangeduringthetransmissionofpacket#n, andthatthediscrepancybetweenbW(n)candvnincreases 
ofoneuniteachtimebW(n;k)cjumpsup.Theprocedure tobeusedwithinperiodswherethewindowsizedecreases dependsontheversionoftheprotocol.Forinstance,inthe 
Tahoecase,onesimplyresetstheWvectorto(1,:::,1)each timethewindowdecreases.Detailedexamplesarestudied 
below. Denotevn =a(W(n))thismapping.Undertheforegoing assumptions,thesequenceofvectorsfZ(n),W(n)gsatisfes 
arecurrencerelationoftheform Z(n)=Aa(W(n;1))(n)0Z(n;1),(10) ; W(n)=FW(n;1),G(W(n;1),Z(n),'(n)),(11) n?1,withinitialconditionZ(0)=(0,::,0)t 
,formappings FandGwhicharemereextensionsoftheFandGmappings tothehistoriesofthevariablesunderconsideration(e.g. 
[F(W(n;1),:::)]1=[W(n)]1=W(n)=F(W(n;1),:::) * andfor1<i:w,[F(W(n;1),:::)]i=[W(n)]i=[W(n;1)]i;1=W(n;i+1)). 
Inwhatfollows,thedefaultassumptionwillbethatofsim­plifeddynamics. 2.7.3 Throughput and Lyapunov exponents 
Theinstantaneousthroughputfuctuatesforeverduetothe adaptationofthewindowand/orchangesinthecrosstraf­fcintherouters.Bydefnition,themeanthroughputAof 
thecontrolledconnectionisthelongtermaveragingofthe instantaneousthroughput,namelythelimit nn A=lim=limP, 
n n!+1yK(n)n!+1(yK(p);yK(p;1)) p=1 (12) whenitexists.Thisisanaturaldefnitiongiventhefact thatourmodelmakesnodiferencebetweensendrateand 
goodput. Themax-plusLyapunovexponent,ofthesequenceofma­tricesisdefnedas: ; maxA(n)00A(1) vn;1v0l k1<l 
k<K:w. ,=lim :(13) n!+1 n Asufcientconditionforthethelimitdefning,toexist (inthealmostsuresense)isthatthesequencefA(n)g 
vn;1 converges(withsocalledshiftcoupling)tosomestation­aryandergodicsequence.Theexistencethenfollowsfrom 
Kingman'ssubadditiveergodictheorem(cf.[3]). ; SincewithourdefnitionofZ(0),max1<l k<K:w.A(n) vn;1 0A(n;1)00A(1)=yK(n),weseethatun­ 
vn;2v0l k derthiscouplingconvergenceproperty,themeanthrough­putiswelldefnedandthatitcoincideswiththeinverseof 
theLyapunovexponentofthesequenceofmatrices:A= ;1 ,. Itisbeyondthescopeofthepresentpapertogivethemin­imalconditionsfortheseconvergencestohold,andwewill 
ratheranalyzethisquestioncasebycase.  3. DETERMINISTIC MODELS InthissectionweassumethatOi(n)=Oi,foralln,where 
Oiisnon-random(thisisthedeterministicservicetimeas­sumption)andthat'(n)=0(deterministicfeedbackas­sumption). 
PK * Wewillusethefollowingnotations:O=max1<i<KOiand S= i=1Oi.Forthesakeofsimplepresentation,wewill frstconsiderthecasewhenallpropagationdelaysdi 
jare 0,andthenshowhowtheformulasshouldbemodifedto coverthenon-zerocase. Theorem2.Assumethattheserviceandthetransmis­siontimesarerationalnumbers.Thenunderanyofthe 
aboveassumptionsconcerningtheprotocol(e.g.Renoor Tahoewithorwithoutslowstart),andtheformoffeed­back(e.g.G2,orG2andG3,orG1,etc.),thesequence 
ofreferencewindowsfwngbecomesultimatelyperiodic,with valuesinanintegerintervaloftheform[a * ,b * ],suchthat 
*** 1:a:b:w. Theproofisforwardedtox7. Inwhatfollows,wewillassumethattheperiodismadeofa singleincreasingphase.Thisisalwaysthecaseunder(G1). 
Themorecomplexperiodicpatternswhichcantakeplace under(G2)or(G3)canbestudiedinsimilarterms. ** Denotetithenumberofoccurrencesofa:i:bduring 
aperiodandTtheperiod:T=ta+ta.+1++tb.. . ThankstoTheorem2,undertheforegoingdeterministicas­sumptions,onecansimplifythedynamicalsystem(8)-(9) 
byreducingittothepuremax-plusrecurrencerelation Z(n)=Awn;1(n)0Z(n;1),(14) wherefwngistheperiodicwindowsizeinthistheorem(see 
theexamplesbelow).Therefore,thereexistsasquarematrix * A0 ofdimensionKwdescribingthetransientphaseofthe 
windowsize,andanintegermdescribingthenumberof packetssentinthistransientphase,suchthatforalln?0, n tb. 
tb.;1 ta. 0 Z(nT+m)=A0A00A0A0Z(0): b.b.;1a. (15) Wethenhavethefollowingtheoremwhichestablishesthe linkbetweenthemeanthroughputofourdeterministicTCP 
modelandmax-plusmatrixeigenpairs(see[3]formoreon thecomputationofeigenvaluesandeigenvectors): Theorem3.Ifthesquarematrix(ofdimensionK:w 
* ) tb. tb.;1 ta. Ab.0Ab.;100A.hasauniquemax-pluseigenvalue aT ,,thenthemeanthroughputisA=.. 3.1 Tahoe 
and Reno examples 3.1.1 TCP Tahoe WefrstconsidertheTCPTahoemodelwithouttheslow­ * startphase.Eithervn 
=wfornlargeenough,orwehave fv1,v2,:::g= (16) **** f1,2,2,3,3,3,:::,b;1,::,b;1,b,::,b ,1,2,2,::g:  |{z}|{z} 
b.;1timestb.times b * backmodel(forinstance,inthe(G1)case,tb.=1and Thevalueofandthatoftb.dependonthechosenfeed­ 
d b *S =+1;seetheproofofTheorem2).Inotherwords, . * 8i2f1,::,b;1g,ti=iand1:tb.:b * .Therefore b.(b.;1) 
T= 2+tb.. Corollary1.[PeriodicTCPTahoewithoutslowstart] Eitherthewindowisalwaysequaltow * ,afteracertainrank, 
inwhichcasethemeanthroughputis * 1w A=min(,),(17) O*S orthereisaninfnitenumberofepochswhenthewindow dropsto1andthemeanthroughputis: 
1b * (b * ;1)+2tb. A=Pb.;1 :(18) * 2 k=1max(S,kO)+tb.O* ApartialproofofCorollary1isgiveninx7under(G1). 
Theproofisbasedonthecomputationoftheeigenvalue, defnedinTheorem3,whichisuniqueinthiscase.Wealso giveagraphicalinterpretationofthiseigenvalueproperty 
below. Remark4.Notethatfor(G1), 1b * (b * ;1)+2 A=,(19) 2(b*;1)S+O* d O * b *S sothatAonlydependsonandS(since= 
.+1).In thiscase,when!+1,theasymptoticthroughputissuch b * thatA11 :Asfor(G2)or(G3),therearenoclosedform 
2 . b * expressionsfor,whichcanneverthelessbecomputednu­mericallyin2K2(w * )3operations.Forthesemorecomplex 
models,AdependsingeneralonO=(O1,:::,OK)andon ;=(;1,:::,;K)aswellasonthewayRTO(n)isupdated. 3.1.1.1 Pathwise 
interpretation b * InFigure1below(whereweassume(G1)and=6),we restrictourattentiontothepathwiseevolutionoftheen-trancetimey0(n)andthedeparturetimeyK(n)ofpacket 
#n,whichturnouttohavemoreregularitythanthedaters associatedwithinternalrouters;theaboveeigenpairprop­ertyreceivesthefollowinginterpretations:beforecongestion 
detection,packetssentbehaveasiftherewerenointerac­tionsbetweenthem,exceptforthepairsofpacketssentat thesamemoment,i.e.whenthewindowincreasesofone 
unit;forthesepairs,thesecondpacketalwaysleavesthe networkunitstimelaterthanthefrstone.Usingthis, O * 
onecanreadtheeigenvaluepropertydirectlyonthefgure. packets sent(window size) 1(1) 2(1), 3(2) 4(2), 
5(3) 6(3) 7(3), 8(4) 9(4) 10(4) 11(4), 12(5) 13(5) 14(5) 15(5) 16(5), 17(6) 18(1), 19(2)  s* SSSSSS 
s* S 1 2 3 4 5654321 # of packets in the system Figure1:Interpretationthroughpathwiseevolution ThesequenceforTahoewithslowstartis: 
*** f1,2,::,{;1,{,::,{,,b;1,::,b;1,bg,(20)  |{z}|{z} etimesb.;1times with{=bb * /2c.Thelimitationsofthesimplifeddynamics 
appearclearlyheresincethisinfactleadstoan\instan­taneous"slowstartphasewhere{packetsaresentatthe sametime. 
Corollary2.[PeriodicTCPTahoewithinstantaneous slowstart]Under(G1),thethroughputofTCPTahoewith slow-startisgivenby: 
 jkjk b. b. b * (b * ;1);;3 122 A= d d:(21) b. b. 2(b*+1;)S+(;1)O* 22 b * When!+1,theasymptoticthroughputissuchthat 
31 A 4 .. 3.1.1.2 Exact dynamics Under(G1)whenmovingfromthesimplifeddynamicsto theexactone,thewindowsizethatshouldbeusedinplace 
of(16)is: fv1,v2:::g= (22) *** f1,1,2,2,2,3,3,3,3,:::,b;1,::,b ;1,b,1,2,2,::g:  |{z} b.times Then,thethroughputisgivenby: 
3.2.2 Loss probability ThewellknownformulaofthethroughputforasingleTCP 1b * (b * +1) A= :(23)connectionintermsoflossprobabilityplossandroundtrip 
2b*S+(b*;1)O* timeRTTisoftheform[11]: Forthesamemodelwithslowstart,thefollowingsequence co Dthp shouldbeusedinplaceof(20): 
= RTTploss , * ** f1,1,2,2,::,{-1,{-1,{ ,::, {,:::,b-1,::,b -1,b,1,1,2,2,::g:  |{z}|{z} e+1timesb.times 
(24) Onecancheckthatthesemodifcationsdonotchangethe asymptoticvalueofthethroughputwhenletting!1. b * 
Example1.TakeTCPTahoewithoutslow-startphase over4tandemqueueswithO1=3:2,O2=4:61,O3=2:7, O4=4:61.b * =4,wn2f1,2,3,4g.Thethroughputis 
equalto0:140084(Corollary1).Thisistobecomparedto thethroughputgivenby(23):0:134571. 3.1.2 TCP Reno TheperiodicanddeterministicevolutionsofTCPRenohave 
beenconsideredin[11]togetaheuristicvalueofthethrough­put.Theabovemax-plusrepresentationleadstoanewfor­mulathatrefnesthatof[11]. 
wherecoisarealconstant.Forourdeterministicmodel,we have:RTT=Sand 2 case1:ploss =, b*(b*;1)+22 case2:ploss 
= ;, b. bb. b*(b*;1);bcc;1+ 2 2 2 case3:ploss = b.;: b*(b*;1);bcbb. c;3 2 2 pp p Whenb * !1,wehaveplossb.2(case1)andploss 
q 81 (cases2and3).Thereforewehavethefollowing 3b.valuesforco: q case1:co =p1 '0:71;cases2and3:co =3 '1:22. 
2 2 b * Thus, forlargevaluesof(orsmallvalueofploss),the asymptoticformulaofCorollary3reducestotheformulain 
[11]. Corollary3.[PeriodicTCPReno]Under(G1)without slowstart,thethroughputofTCPRenoisgivenby: b. bb. 
b * (b * ;1);bcc;1+2 122 A= b. :(25) 2(b*;b2c)S+O* b * A When!+1,theasymptoticthroughputissuchthat 31 
.IncaseofRenowithslowstart,theformulais . 4 thesameasthatofTahoewithslowstart. 3.2 Interpretation and 
comparison to earlier results Theresultsofthissectionareallunder(G1). 3.2.1 Graphical interpretation 
of throughputs TheasymptoticthroughputsfoundinCorollary1(case1), Corollary3(case2)andCorollary2(case3)under(G1) 
haveanaturalgraphicalinterpretationfromafuidapprox­imationofthewindowsizeevolution:letd0= 1bethe . b 
* throughputforstaticwindowsizewn =(case0). CASE 0 CASE 1 CASE 2 Graphicalinterpretationofthroughputs 
Whenwnincreaseslinearlyfrom1,thequantityoftrans­mittedpackets,whichisproportionaltotheintegralofW(t) 
onaperiod,isindeedequalto12d0(case1);whenwnin­ creaseslinearlyfromb2. ,thequantityoftransmittedpackets 
isscaleddownbyafactor43(case2).  3.2.3 Extension to non zero propagation delays Alltheresultsconcerning(G1)holdwithconstantprop­agationdelaysdi 
jwhenreplacingthevalueofSbyS= PK dK0+(Ok+dk;1k). k=1 3.2.4 Comparison with NS Themeanthroughputobtainedforthesedeterministicmod­elscanbecomparedtothatgivenbytheNSsimulatorwhen 
choosinganarbitrarypacketsizeandwhentakingabitrate forroutericorrespondingtoOi.Thesendratesobtained fromNSsimulationandfromourformulasmayonlydifer 
duetodiscrepanciesontheloss/congestiondetectionmech­anism(discrepanciesstemfromtheinstantaneouslossdetec­tionassumption(seeRemark2)andalsofromthefactthat 
wetaketheintegerpartofW(n)ratherthanW(n)etc.). However,foralldeterministicmodelswiththesameperiodic evolutionoffvng,theevolutionsareexactlythesame.Here 
isanexample:onNSwetakeaTCPconnectionwithftp source:K=10,packetsizeis1250(40forack),bufersizeis 2,alldi 
jareequalto0:1msexceptfordK0whichisequal to1ms;thebitratesare:(10,5,4,2,5,4,5,5,4,5,5)Mbfor thelinks0;1,::,9;10,10;0.Att=100s,NSgives152:27 
packets/s.Forthisexample,S=25:5msand=5ms; O * using(G1),wegetfrom(21):134packets/s.However,we notethatb 
* isactuallyequalto7intheNSsimulation(since oneRTTisneededtodetecttriple-acks)whereasitisequal to6inourmodel(thisispreciselythediferencebetweenin­stantaneousandnoninstantaneouslossdetections);taking 
(21)with=7gives152:55packets/s. b *  4. STOCHASTIC MODELS 4.1 Deterministic services, random feedbacks 
Wenowconsiderthecasewithsimplifeddynamics,with allservicetimesstilldeterministicandrational,butwith randomfeedbackasdefnedinx2.6. 
Underourassumptions,thesequencef(W(n),Z(n))g(resp. thesequencef(8(n),W(n),RTO(n),Z(n))gwhenapplica­ble)formsaMarkovchainwithfnitestatespaceL.Ifthis 
Markovchainisirreducible,thenthesequenceofrandom matricesin(5)convergestoastationaryandergodicse­quenceinasensewhichguaranteestheexistenceofthemean 
throughput.Moredirectly,ifonedenotes7thestationary probabilityoftheMarkovchain,thenitfollowsfrom(12) 
thattheinverseofthemeanthroughputcanbeexpressed as X A;1 =,=a(z)7(w,z),(26) (wz )2. wherea(z)=zK;z2K(seealso[4]).Hereisaconcrete 
applicationofthisgeneralidea: Theorem4.Under(G1),ifp0,fW(n)gisanir­reducibledMarkovchainontheintegerinterval[1,b 
* ],with b *S =+1,andthethroughputdependsonservicetimes . O * onlythroughSand. Proof.Thefrstpropertyisimmediate(theirreducibil­itystemmingherefromthefactthatfW(n)gcanreachthe 
value1fromanyinitialconditionbysufcientlymanyran­domlossesinseries).Thelastpropertyfollowsfrom(26) andfromthefactthatthesequencefyK(n+1);yK(n)gn2N 
takesitsvaluesintheset<=fS;(k;1)O * ,k=1,::,b * ;1g[fO * g(seeLemma2andtheproofofCorollary1inthe appendix). 
4.1.1 Tahoe example Corollary4.[MarkovTCPTahoewithoutslowstart] Under(G1)thethroughputofTahoewithoutslowstartis 
givenby: 1 A=Pb.;1 , O*+[S;kO*]q(k) k=1 k(k+1) 2 p(1;p);1 withq(k)= :(27) b.(b.;1) 2 1;(1;p)+1 Proof.Inthiscase,fW(n) 
gisan irreducible Markov 112 * chainonthesetX=f1,2,2+2,3,3+3,3+3 ,4,:::,b; b. 1+;2 ,b * g.Letusdenotebyf(x),x2X,thestationary 
b.;1 probabilityofthisMarkovchain.Simplecalculationsgive: j * forallk+ 2X(j=0,:::,k;1;k=2,:::,b), k 
j(k;1)k +j 2 f(k+)=(1;p)f(1), kp withf(1)= : b.(b.;1) 2 1;(1;p)+1 Sowehave b.;1b.k;1 XXX *k;1* j;1 ,=(S;(k;1)O)f(k+)+Of(k+): 
kkk=1 k=2j=1 (28) * k;1 Fork=1,:::,b;1,ifweputq(k)=f(k+),(28) k immediatelygives(27). b * takesasimpleformifp 
2inthiscase, Remark5.When!1,theasymptoticthroughput (b.)2 ! 1;e;111 AR1 '0:42:(29) e;t2O*O* 2dt 0 4.1.2 
The impact of random losses TheseMarkovmodelscanbeusedtoshowthattheefect oflossesduetorandomperturbationsispreponderantcom­paredtothatoflossesduetoatoohighsendrate:indeed, 
thegloballossprobabilityofthismodelis:f(b * )+p(1;f(b * ))=f(1),wheref(b * )isthelossduetocongestionand 
p(1;f(b * ))isthelossduetorandomperturbations.For f(1)fxed,Figure2showshowthethroughputobtainedby (27)decreasesinp(thiscaseisthatwhen=1,sothat 
O * S=b * ;1). Figure2:Throughputasafunctionofpforf(1)=0:01 4.1.3 Reno examples SimilarresultscanbederivedforTCPRenotypemodels. 
Duetothelackofspacewewilllimitourselvestoafew numericalexamples. Example2.TakeK=4withO1=3:2,O2=4:61,O3= 
2:7,O4=4:61.b * =4,wn2f1,2,3,4g.Figure3shows n theevolutionofandwnforMarkovTCPRenowith y4(n) p=0:1. 
x=n Figure3:TCPReno  4.2 Random service times Wenowconsiderthecasewithrandom(aggregated)services onallrouters.Thiscaseisthemostdifcultone,evenfor 
aconstantwindowsize.Thedifcultystemsinparticular fromthefactthatthecomputationalcostoftheformulas growsinnon-polynomialwaywiththemaximumwindow 
size.WewillassumeherethatthesequencefOi(n),i= 1,:::,Kgnisi.i.d.Thisisasimplifedmodelw.r.t.our initialmotivationswhereaggregatedservicetimesrepresent 
theinfuenceofcrosstrafconthepacketsofthereference connection(see[2]).Underthisassumption,thesequence 
* ofmatricesfAi(n),i=1,:::,wgnisi.i.d.andforallloss detectionmodelsdescribedinx2.6,f(W(n),Z(n))g(resp. 
thesequencef(8(n),W(n),RTO(n),Z(n))gwhenapplica­ble)formsaMarkovchain. 4.2.1 Examples 4.2.1.1 Tahoe (G1)-(G4) 
Theassumptionsconcerningthefeedbacksare(G1)and (G4); (G1)accountsforthelossesduetoanexcessivesend rateofthereferencefow;wewilltakehereS(n)=S= 
PK **K IE( i=1Oi(1))andO(n)=O=maxi=1IE(Oi(1)),so d **S thatbisstillgivenbyb=+1; . (G4)accountsforthelossesandtimeoutsduetothe 
variationsofcrosstrafc. .. (b;1)b Forn:2+1,letBe(n)bethevector Be(n)=Abn(n+1)0Ae(n)00Ae(2)0Z(0), vvn;1v1 
* wherev1,v2,:::,istheTahoesequence(1,2,2,3,3,3,:::,b; ** e 1,b;1,b).Inthisformula,thematricesfAi(n),i= 
1,:::,Kg(resp.fAbi(n),i=1,:::,Kg)arei.i.d.andde­fnedasfAi,i=1,:::,Kg,butwhenusingthei.i.d.ran-domvariablesOe(n)(resp.Ob(n))inplaceofO(n),whereOe(n) 
(resp.Ob(n))isarandomvectorwiththelawofO(n)condi­tionalonthepropertythatO(n)2/B(resp.thatO(n)2B). Forinstance,ifBistheset 
K B=fO2Rs.t.OiXforsomeig, andiftherandomvariablesOi(n),i=1,:::,Kareindepen­dentanduniformlydistributedontheinterval[0,U],with 
X<U,thentherandomvariablesOei(n),i=1,:::,Kare stilli.i.d.anduniformontheinterval[0,X],whereasthe randomvariablesObi(n),i=1,:::,Khaveajointdistribu­tionwhichcanbecomputedexplicitlyusingorderstatistics. 
Corollary5.[TCPTahoewithrandomservicetimes] Under(G1)-(G4),thethroughputofTCPTahoewithout slowstartis: 
. PbPk;1(k;1)k pki+i+1 k=1i=02 A=hi,(30) . PbPk;1 e(k;1)k pkiIE B+i+1 k=1i=02 K where (k;1)k pki =72+i(1;7),(31) 
with7=P(O(n)2B). Proof.SincethematrixM(n)8M0(n)hasthesocalled memorylosspropertyonthesetf(y1,::,yK)2,y1: 
RK :::yKg(see[4]),thestochasticprocessfW(n),Z(n)gis aregenerativeprocesswheretheregenerationtimesarethe 
epochswhenthewindowsizeisequalto1.ThelengthsTl, l?1,ofthesuccessiveregenerationcyclesarei.i.d.and suchthat 
 ** b(b+1) T121,:::,: 2 k(k;1) LetpkidenotetheprobabilitythatT1isequalto 2+i+ * 1,0:i<k:b.Oneobtainsthevaluegivenin(31)forpki 
whenusingtheassumptionthattheservicetimevectorsare i.i.d.Formula(30)for,followsfromtheergodictheorem 
forregenerativeprocesses(seetheformulainCor.1[4]). 4.2.1.2 Tahoe (G1)-(G3) Theassumptionsconcerningthefeedbacksare(G1)and 
(G3),withRTO(n)=RTO;wealsoassumethattheser­vicetimescantakeafnitenumberofrationalvalues.Under theseassumptions,thevariablesfyK(n);yK(n;wn;1),n2 
Ngcanonlytakeafnitenumberofvaluestoo,sayinaset \,andthissequencehasthesameregenerativestructureas above.ThejointlawofregenerationcycleT1andthedater 
Z(n)canbeexplicitlycomputedbythefollowingrecursion: P(T1n,Z(n)=z) =P(\nk=1fyK(k)-yK(k-wk-1)<RTOg,Z(n)=z) 
X =P(\nk=1fyK(k)-yK(k-wk-1)<RTOg, z02' 0 Z(n;1)=z,Z(n)=z) X 0 =P(Z(n)=z,yK(n)-yK(wn-1)<RTOjZ(n;1)=z) 
z02' 0 P(T1n;1,Z(n;1)=z): * Thisisvalidforn<b.Fromthis,onecanderiveaformula forthethroughputusingtheergodictheoremforregenera­tiveprocessesinthesamewayasabove: 
. Pb;1 k=0P(T1k) A=Pb.;1P,(32) P(T1k,Z(k)=z)a(z) k=0z2' wherea(z)isthefunctiondefnedinx4.1.  4.2.2 Extensions 
AsimilarformulacanbeobtainedforTCPTahoewithslow startorforTCPReno,andalsoforvariousextensionsof theabovemodelincludingindependentpacketlossesasin 
x4.1. Example3.HereweconsiderTCPTahoewithK=3 routers,under(G2)with;=;=1and;=3,w * =50. 132 TherandomvariablesOi(n)arei.i.d.multinomialwiththe 
followingvalues:O1(n)isequaltof1,10,20gwithprobability 0:1,0:2,0:7O2(n)isequaltof13,15,17gwithprobability 
0:25,0:5,0:25O3(n)isequaltof1,10,20gwithprobability 0:7,0:2,0:1. OneofthecurvesofFigure4showstheevolutionofW(n) 
forTCPTahoemodelwithslowstartundertheseassump­tions,whereastheothercurvegivestheevolutionofW(n) whenexchangingthestatisticsofO1(n)andO3(n). 
  x=n Figure4:EvolutionofW(n) 0 10000 20000 30000 40000 50000 60000 70000 80000 90000 100000 x=n Figure5:ComparisonofThroughput 
Figure5showsthecomparisonofthethroughputofthese twoTCPTahoemodels.Thefrstmodelgivesathrough­putof0:058679(simulationof107packets),whereasthat 
ofthesecondoneis0:053357.So,thepermutationofthe characteristicsoftworoutersmayinfuencethevalueofthe throughput:wecannotreducethenetworktoasinglebottle­neckroutersincethethroughputmaydependontheposition 
ofthebottleneckalongthepath. Inthesameway,meanvaluesarenotsufcienttopredictthe throughput:forinstance,forthefrstmodel,whenmovingto 
deterministicservicetimesequaltothemeanvaluesofthe correspondingmultinomialdistributions,wefndathrough­putof0:062112,whereaswhenincreasingvarianceofservice 
timesinrouters1and2(O1(n)equaltof0,32:2gwithprob­ability0:5,0:5andO2(n)equaltof0,30gwithprobability 0:5,0:5),thethroughputcollapsesto0:043819(;30%). 
  5. FURTHER EXPLOITATION OF THE AP-PROACH Intheprevioussections,welimitedourselvestothemean valueofthesaturatedthroughput.Infact,onecanderive 
furtherresultsfromouranalysis,eitheranalytically,orvia ourfastalgebraicsimulationalgorithm;thisconcernsfor 
instance: 1.Thelawoftheinstantaneousthroughputlimn!1P( (yK(n+1);yK(n));1:x),which,underthesettingof P 
x4.1,isequalto(wz)2. 1 fQ(z).1/xg7(w,z);thisisan importantquantitywhichdefnesanaturalindicator ofQoSincomplementtotheaveragevalue; 
PN 2.Thelawoftheend-to-enddelay:limN!1 1 P( N n=1 yK(n);yK(n;wn;1):x); 3.ThelawofthetimeDneededtotransmitafleof 
sizeF;infrstapproximation,thislawisgivenbythe relation:P(Dt)=P(yK(F)t),althoughmore preciseformulascanbederivedwhentakingretrans­missionsoflostpacketsintoaccount. 
Withinthisframework,wecouldalsopossiblyhandle 4Openmodel(i.e.nonsaturatedsourcemodelslike httpsources),wherethearrivalprocessisdescribed 
byitsstatisticalcharacteristics;inthiscase,thebasic equationsread: y0(n) =[yK(n;vn;1)0dK0]8u(n), yi(n) 
=[yi;1(n)0di;1i8yi(n;1)]0Oi(n), i=1,:::,K,whereu(n)denotesthetimewhenpacket nbecomesavailableatthesourcenode.Thisleadsto 
amax-plusafnedynamicalsystemwhere(5)hasto bereplacedby: Z(n) =Avn;1(n)0Z(n;1)8V(n),(33) whereV(n)isavectorbuiltfromfu(k)g(see[3]). 
5Multipleconnectionscasesallowingonetostudyin­teractionsbetweenseveralcustomers; 6Multicastconnectionsoveranetworkinvolvingatree 
ratherthanalinearsequenceofroutersinseries(see [5]fortheconstantwindowcase). 7Equationbasedcontrolasconsideredin[7]. 
Theselastquestionswillbetheobjectoffutureresearch. 6. CONCLUSION Wehaveshownthatbothinthesaturatedandthenonsat­uratedcase,theadaptivefeedbackmechanismofTCPis 
alinearfeedbackinthemax-plusalgebra.Thisleadstoa simplerepresentationoftheefectofthisprotocolonany networkwhichadmitsamax-plusrepresentationwithout 
thecontrol,liketandemqueuesorthefork-joinqueuenet­worksthatonefndsinmulticasttrees.Wehavededuced fromthissimpleformulasforvariousdeterministicservice 
timemodelsthatrefnewellknownresultsoftheliterature. Theseformulasconfrmthatinthiscase,thethroughput onlydependsontheRTTandthebottleneckrouterrate, 
atleastinthe(G1)case.Newformulasarealsoobtained fortherandomservicetimecase,wheretherandomnessisa naturalwayofrepresentingtheefectoftherestoftrafcon 
thecontrolledconnection.Itisshownthatinthiscase,one cannotobtainthethroughputfrommeanvaluesonly,and thattheorderandthefnestatisticalbehavioroftherouters 
cannotbeignored.Thesetofallpossiblemodelswithinthis settingisquiterich.Onecanindeedselectadeterministicor 
randomservicetimemodel,acongestionorlossbasedfow control;lossesmaystemfromcongestion,ortimeouts,or berandom,oranycombinationofthethree;RenoorTahoe 
canbeselected,withorwithoutslowstartetc.Wehave shownhowourapproachcouldbeusedtoanalyzesomeof thesecombinations;wefnditusefultostressthatallsuch 
combinationscaninprinciplebeanalyzedwithinthisset-ting,whichwillbetheobjectofourfutureresearch.More generally,thisapproachprovidesagenericframeworkfor 
thesimulationofTCPandrelatedprotocolsoverpossibly largenetworks,basedonsimplealgorithmswithalowcom­putationalcost. 
 7. APPENDIX 7.1 Proof of Theorem 2 valuesforsuchtriplesunderourconditions,theperiodicity follows.IncaseRTO(n)isusedintheinitialcondition,the 
proofcaneasilybeadaptedalongthesamelines. 7.2 Proof of Corollary 1 Wewillonlygivetheproofforthe(G1)case.Inviewof 
0Ab.;1 Theorem3,wehavetocheckthatthematrixAb.b.;10 0A1hasauniqueeigenvalueandtocomputethiseigen­value.Thefrstpropertyisimmediate.Thesecondoneis 
provedviathefollowinglemmas. Lemma2.Foralli2f1,::,b * ;1g, 0 1 0 MiMi;1M0 8M0MME . * Kw Forallintegers1:u,s:w,andallvectorsz2Rlet 
=   BBBBBBBBBBBBBBBBBBB@ Hereareafewexamples: "ithblock Foralli?1,n2f CCCCCCCCCCCCCCCCCCCA  . .. 
~~ fW(n),Z(n)gbethesequencedefnedby Mi;1M0Mi;2M0 .. . .. . . .. .. Z(n)=AbW(n;1)c(n)0Z(n;1), ..... 
.E.... W(n)=F(s,W(n;1),1), .. . ..0. M2 M0 ..MM. ~i withinitialconditionsW(0)=u,Z(0)=zand8(0)=A i ... 
 M0 .ith block .. . M E s(thisisthesequencewhereweenforce8(n)=sand .. . ACK(n)=1).Letn~bethefrstintegernsuchthateither 
 ... ... IdE..E. ~~ lossortimeoutaredetectedforpacketninthefW(n),Z(n)gevent ... sequence,whenmakinguseofrule(6).Incasenosuch 
 ... EIdE... occurs,thismeansthatthereferencewindowsizeeventually .... .. * B *~ .Ifnot,let=W ...... 
 andequaltoW (n~). staysconstant .. . ... 1,::,i;1g, b * bB * Under(G1),=cisgivenby  **S  0BBBBBBBBBBBB@ 
= 1 MnM0Mn;1M0 EEE CCCCCCCCCCCCA .... . b=minfn:nOSg=+1 O* : ..... ..E.. . ... . Notethatinthiscase, 
b * : K+1andonlydepends on O * An andS. i Under(G2), n~=inffn:Ae00Ae0z2S2g, wn;1w0 whereS2=fZ2RKw . 
s.t.forsomei,1:i: M0 ... . .. . .  .nth block M ... ... IdEE..E. .... .... EIdEE.... ...... .. ........ 
 .. ...... K,Zi;1+di;1i<Zi+(iKg:Notethatinthiscase,b * dependsingeneralonthewholevectorsO=(O1,:::,OK) 
and;=(;1,:::,;K). Under(G3),theconditiondefningn~isasfor(G2)but . Kw with,inplaceofS2,thesetS3n =fZ2Rs:t:ZK; 
ZK+e RTO(n)g. wn;1K * Departingfromu=u0=1,s=s0=baWc,andz= z0=(0,:::,0)t ,weeitherhaveareferencewindowsize 
* whicheventuallystaysconstantandequaltoW;inthis ** b * case,theresultisprovedwitha==w.Ifnot,after 
B * B * thevalue0 =isreached,thewindowdropsdown,and itstartsanewcyclesimilartothefrstone,butthistime 
~ withu1=baB0* c,s1=s0orbaB0* c,andz1=Z(n~).Here ~ * again,eitherW(n)=Weventually,orwestartanewcycle 
whenthewindowsizereachesthevalueetc.Incasethe B1* * constantsequencewithonlyWisneverreached,thereisan 
infnitesequenceofsuchcyclesthatonlydiferintheirinitial conditions.Sincethestructureoftheithcycleiscompletely 
determinedbythetriple(ui,si,zi)whereziistheclassof zi(seex2.6),andsincethereisonlyafnitesetofpossible 
"ithblock Proof.Byfniteinduction. Lemma3.Foralln:b * ;1,thematrixM0(Mn8 M0)00(M8M0)isirreducibleanditseigenvalueis 
equaltonS+. O * Proof.M8M0isirreducibleandthispropertyisstable byleftmax-plusproductbyM,whichimpliestheannounced 
C(n)(Mn irreducibilityproperty.Let=)1<i<K j=1,C= C(1) .Wehaveforalln?1,foralli2f1,::,Kg, C(n)=(C)i+(n;1)maxOk: 
ik=1:::i and C(n+1) M0C(n)=,M00C(n)=S+(n;1)O * +C, sothat l0(l+1) (M8M)0C=C8(S0C): Since,forn2f1,::,b 
* ;1g,nO * :S,if1:l:b * ;1,we have l00(2)* (M8M)0C=S+C,(M8M)0C=S+O+C: )0C(2) ThereforeM0(Mn8M0)00(M8M0=nS+ 
+C(2)C(2) O * :HenceisaneigenvectorofM0(Mn8M0)0 0(M8M0)fortheeigenvaluenS+O * . 7.2.1 Proof of Corollary 
1 Wehave (2)** A10((C)t ,)t :(S+O+(C)t ,O+(C)t ,)t and 2 ** A20(S+O+(C)t ,O+(C)t ,)t ** :(2S+O+(C)t 
,2S+(C)t ,S+O+(C)t ,)t , ((C(2)* where)t ,)or(S+O * +(C)t ,O+(C)t ,)are * linevectorsofdimensionK:wandwhereareentriesof 
thesevectorsthathavenoinfuenceonthecomputation(for instanceput;1). * UsingLemma2andthefactthatforalln<b,nO 
* :S, * wegetbyinductionthatforalli2f2,::,b;1g, ; i * Ai0(i;1)S+O+(C)t ,(i;1)S+(C)t ,:::, t ** (i;1)S;(i;3)O+(C)t 
,(i;2)S+O+(C)t , ; * :iS+O+(C)t ,iS+(C)t ,:::, t ** iS;(i;2)O+(C)t ,(i;1)S+O+(C)t ,: Therefore b.;1 
(2))t)t Ab.0Ab.;100A10((C,: 1<i<K ** ((b;1)S+O)0(M0C)8 ***0 ((b;1)S+(b;2)O)0(M0C) **(2) :(b;1)S+O+C: 
* Forn<b,letB(n)denotethematrix(An+10Ann0 * 0A1):Foralln<b,wehaveB(n)?M0(Mn8 1<i j<K M0)00(M8M0),sothat 
b.;1 (2) Ab.0Ab.;100A10((C)t ,)t 1<i<K 00(2) ?M0(Mn8M)00(M8M)0C **(2) =(b;1)S+O+C, wherethelastequalityfollowsfromLemma3.Hence 
0Ab.;1 0((C(2) Ab.b.;100A1)t ,)t 1<i<K **(2) =(b;1)S+O+C: TherelationB(n)?M0(Mn8M0)00(M8M0) alsoimpliesthatB(b 
* ;1)isirreducible.Thereforethe eigenvalueofB(b * ;1),thatis,,isequalto(b * ;1)S+O * . 8. REFERENCES 
[1]E.Altman,J.Bolot,P.Nain,D.Elouadghiri, M.Erramdani,P.Brown,andD.Collange. PerformancemodelingofTCP/IPinawide-area 
network.INRIAReport,March1997. [2]F.BaccelliandT.Bonald.Windowfowcontrolin FIFOnetworkswithcrosstrafc.QueueingSystems, 
32:195{231,1999. [3]F.Baccelli,G.Cohen,G.Olsder,andJ.Quadrat. SynchronizationandLinearity.Wiley,1992. 
 [4]F.Baccelli,S.Gaubert,andD.Hong.Representation andexpansionof(max,plus){Lyapunovexponents.In Proc.of37thAnnualAllertonConf.on 
Communication,ControlandComputing,September 1999. [5]A.Chaintreau,F.Baccelli,andC.Diot.Impactof networkdelayvariationonmulticastsessions 
performancewithTCP-likecongestioncontrol. Preprint,2000. [6]C.Chang.PerformanceguaranteesinCommunication 
Networks.SpringerVerlag,1999. [7]S.Floyd,M.Handley,J.Padhye,andJ.Widmer. Equation-basedcongestioncontrolforunicast 
applications.Proc.ofACMSIGCOMM,2000. [8]P.Hurley,J.LeBoudec,andP.Thiran.Anoteonthe fairnessofadditiveincreaseandmultiplicative 
decrease.ProceedingsofITC-16,June1999. [9]S.Keshav.Anengineeringapproachtocomputer networking.Addison{WesleyProfessionalComputing 
Series,1997. [10]T.LakshmanandU.Madhow.Theperformanceof TCP/IPfornetworkswithhighbandwidth-delay productsandrandomloss.IEEE/ACMTrans. 
Networking,June1997. [11]M.Mathis,J.Semske,J.Mahdavi,andT.Ott.The macroscopicbehavioroftheTCPcongestion 
avoidancealgorithm.ComputerCommunication Review,27(3),July1997. [12]J.Padhye,V.Firoiu,andD.Towsley.Astochastic 
modelofTCPRenocongestionavoidanceandcontrol. TechnicalReportCMPSCI,Univ.ofMassachusetts, 1999. [13]J.Padhye,V.Firoiu,D.Towsley,andJ.Kurose. 
ModelingTCPthroughput:asimplemodelandits empiricalvalidation.Proc.ofACMSIGCOMM,1998. [14]R.Stevens.TCP/IPIllustrated,volume1.Addison 
Wesley,1994. [15]G.WrightandR.Stevens.TCP/IPIllustrated, volume2.AddisonWesley,1995. 
			