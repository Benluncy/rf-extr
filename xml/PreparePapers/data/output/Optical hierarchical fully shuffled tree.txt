
 Optical Hierarchical Fully Shuffled Tree Safia H. Deif Omer Karam. Computer and System Computer and 
System Engineering Dept., National Engineering Dept., National Telecom. Institute. Telecom. Institute, 
Cairo, 5 EI-Mokiem El-daeem, Egypt. Naser City, Cairo, Egypt. Tele:002-010-1531174 safib@hotmail.com 
 ABSTRACT This paper applies optical interconnects towards the implementation of fully shuffled r-ary 
trees. The architecture is based on wavelength division multiplexing (WDM)which enables multiple multi-access 
channels to be realized on a single optical fiber and dynamically varying the time slot and wavelength 
allocation according to traffic intensity, thus allowing for better performance. The system performance 
is evaluated in terms of the system delay factor of the single-hop and multi-hop virtual topology. Two 
physical communication pattems, geometric distribution and threshold mode, are applied to improve the 
system performance. Keywords Parallel processing, optical interconnection network, wavelength division 
multiple access (WDMA), optical hierarchical fully shuffled tree, static wavelength allocation, dynamic 
allocation, single-hop, and multi-hop. 1. INTRODUCTION Parallel processing systems are a proposed solution 
to the increasing demands for processing power and computation speeds. These systems can consist of thousands 
of processing elements (PEs) interconnected via an interconnection network such as in Massively Parallel 
Processing (MPP). Due to the large number of PEs contained in these systems, the interconnection network 
usually determines performance and cost. Such a network must have low interconnection complexity, high 
degree of scalability, and most importantly, efficient support for communications. Recent studies have 
shown that efficient implementation of local communications (spatial locality)is a fundamental requirement 
for interconnection networks [18]. A multiprocessor system with a large number of nodes can be built 
by combining the recent advances in high capacity channels available through optical fiber communication. 
A highly fault tolerant system is created with good performance characterizes at a reduction in system 
complexity. The system capitalizes on the Permission to make digital or hard copies of all or part of 
this work for personal or classroom use is granted without fee provided that copies are not made or distributed 
for profit or commercial advantage and that copies bear this notice and the full citation on the first 
page. To copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior 
specific permission and or fee. SAC'00 March 19-21 Como, Italy (c)2000 ACM 1-58113-239-5/00/003>...>$5.00 
Samir Shaheen. Abd EI-Moneim Y. Computer and System Bilal. Engineering Dept., Electronics and Electrical 
Cairo University, Communication Dept., Cairo Cairo, Egypt. University, Cairo, Egypt. self-routing characteristic 
of wavelength division multiple access (WDMA) to improve performance and reduce complexity. A classification 
of WDMA networks can be made on the following basis: 1. Networks in which the unidirectional connection 
between two nodes is performed by means of a single one-way channel, that is, one employing a single 
wavelength. This type of network is called single-hop. 2. Networks where some connections require that, 
in an intermediate node, a conversion from one channel to another, that is, a change in the wavelength 
employed be performed. This is called multi-hop. The above classification regards the virtual topology 
of the network. In fact various physical topologies can support the same single-hop network, or the same 
multihop network. 3. When a network is used for interconnecting nodes which can be geographically grouped, 
considering also the traffic relations among them, it is often convenient organized on more than one 
level. For example, we can have a first level, or access level, consisting of several single-hop broadcast-and-select 
networks, able to interconnect nodes with strong traffic relation among them, and a second level in which 
a backbone network constitutes a sort of core structure. Architecture of this type can be easily iterated, 
leading to a hierarchical organization, this kind of topology is called multilevel networks [2]. Various 
physical topologies can support the same single-hop network, or multihop network. Multihop networks are 
characterized by their virtual topology, which is by the architecture of the interconnections between 
any pair of nodes. It takes the form of a graph, in which oriented edges represent one-way channels. 
There are two groups working in this area:  The first group consists of P. W. Dowd and research-group 
in State University of New York supported by National Science Foundation and others [8]. They introduced 
two hierarchical optical structures for processor interconnecti0n; both architectures are based on wavelength 
division multiplexing (WDM) which enables multiple multi-access channels to be realized on a single optical 
fiber. The objective of these hierarchical architectures is to achieve scalability avoiding the requirement 
of multiple wavelength tunable devices per node. Both architectures are single-hop (a packet remains 
in the optical form from the source to destination and does not require cross-dimensional intermediate 
routing [7], [16].  The second group concem the optical interconnection networks, free-space optical 
interconnects techniques have been proposed. Recently, several optical interconnection networks  have 
been introduced by the second group that include Louri's research-group in Arizona-University supported 
in part by National Space Foundation, National Science Foundation and USWest in USA. They are study space-invariant 
hypercube- based optical interconnection networks [22]. And an optical multi-mesh hypercube (OMMH) network 
[20],[22]. A new scalable optical interconnection network for multiprocessors and massively parallel 
systems using spanning bus connected hypercube (SBCH) [18,19], [22], [10]. A gradually scalable optical 
interconnection network for massively parallel computing applying a spanning multichannel linked hypercube 
(SMLH) [20], [10], [20]. To exploit the benefits of optical technology in tightly coupled multicomputer, 
the architectural design must reflect both the advantages and limitations of optics. For these reasons 
a group of research at Washington University proposed an optically interconnected multicomputers using 
inverted-graph topologies [3]. Networks of networks are scanned focusing on regular structures at 1998 
[2]. Star-of-stars network, hierarchical linear lightwave network (LLN), and combination of single-hop 
and multihop connection modes in Multilevel Optical NETworks (MONs), the alternative meaning is multi-wavelength 
optical NETworking. In some papers these networks called MONETs. The MONETs is currently used to denote 
a very important research program, born from the corporation of a number of partners (AT&#38;T, Bellcore, 
Lucent Technologies, Bell Atlantic, BellSouth, Pacific Telesis, and SBC, with participation by the USA 
National Security Agency and the Naval Research Laboratory) [2]. In the multilevel network, the lowest 
level, there are a number of basic clusters of nodes, and each higher level creates a smaller number 
of clusters by connecting together several of the lower level clusters. By specifying, at each level 
the cluster size, the connection schemes, and the corresponding network parameters to match the applications 
requirements, the advantages for hierarchical interconnection networks which can be achieved are: [1], 
[5] 1. A reduced node degree that still supports locality of communication patterns. 2. Reduced diameter 
and distances. 3. A better match between problem and architecture through the integration of several 
topologies. 4. Better scalability capabilities. Support for heterogeneous network environments by supporting 
clusters of different topologies.  It has been observed in large networks that message transfer is limited 
few adjacent nodes within a predefined disstance from a source. The fully shuffled tree is the most popular 
network has this phenomenon. Since the source network nodes are at the network leaves. The static and 
dynamic wavelength allocation is the most considerable factor. And the traffic intensity distribution 
is differed according to the source routing trip. In this paper WDM is combined with TDM to improve the 
network traffic intensity distribution. Dynamic allocation using control packets is applied in this paper 
for the hierarchical fully shuffled tree in optical technology. 2. OPTICAL HIERARCHICAL FULLY SHUFFLED 
TREE (OHFST) Optical Hierarchical Fully Shuffled Tree (OHFST) is an r-ary tree of sub-networks used to 
link disjoint clusters of interconnected processing elements irrespective of the connectivity within 
a cluster. In this paper, the design is an optical-based approach. The shuffle feature has processing 
elements within a cluster have different parents, then, the fault tolerance increase in the system. Also, 
there are no-direct link between these parent nodes, the cost is reduced [1]. Fat-trees are used in the 
hierarchical connection from the leaves to the root. The (OHFST) is a virtual topology of a network organized 
for L levels figure (2). Source and destination nodes (end-nodes) are all located at level L, where the 
upper levels collect the node playing the role of gateway between adjacent levels [2]. At any level ! 
(where 1 = (L - 1)), the nodes are divided into r TM groups (clusters) every cluster has r-nodes whose 
address have the same ( I - 1 ) msb's. Number of clusters at level i equal to the number of clusters 
at level I = r I1 = M~. each cluster has r-stations. The nodes at level (L-l) are processing elements 
(PE s)while all other nodes in the network are star-couplers and links are optical fiber. The number 
of PE's in the network is N. Where: N = rTM and r represents the number of nodes per cluster and is a 
radix of tow. Figure (2) shows an OHFST (4,4) and its clusters at each level. The network transmission 
is performed using a single-hop or multihop strategy. OHFST(r, L) has L-levels (0 .... (L-l)) and r 
I nodes at any level i(I-(L-I),(L-2) ...... 0). Number of clusters at any level 1 = M = r I1. Node's 
address can be represented as a0 al a2..aL.i. Then: Level 0: its node's address is ao = 0. Level 1: their 
node's addresses can be represented as ao at  These addresses are equal to 00, 01, 02 ........ 0(r-l) 
(as example in figure(l) their address are: 00, 01, 02, 03) Level 2: their node's addresses can be represented 
as aoala2, aoala2............ 0(r-l)(r-l) for (r-l) times. These address are equal to 000, 001, 002 
....... ,00(r- 1) In figure (2) their addresses will be as follows: First cluster address: 000, 001,002, 
003, Second cluster address:010, 011,012, 013, Third cluster address: 020, 021,022, 023, Fourth cluster 
address: 030, 031,032, 033, Level 3: ................ Level (L-1): their node's addresses can be represented 
as aoal .... aL-i for ( r TM)times. (as example in figure(l) their address are: First cluster address: 
0000, 0001, 0002, 0003, Second cluster address:0010, 0011, 0012, 0013, Third cluster address: 0020, 0021, 
0022, 0023, Fourth cluster address: 0030, 0031, 0032, 0033, ML.ithlevei the addresses will be: 0330, 
0331, 0332, 0333, A very important parameter in such graph equals the maximum number of subsequent edges 
Which means the number of hops, necessary for connection two whichever nodes of the network. The network 
diameter of OHFST (which is illustrated in figure (2)) can be written in terms of the number of levels 
(L) and the basic network diameter Db as: D = 2(L-I) + Db. Ifh represents the level number which the 
source and destinations are meted And the next h-I hops are sufficient to reach all the nodes not covered 
during the first trip. h hops are needed to come back to the starting level. The distance between the 
two nodes A and B can be written as: The shortest distance between them is: dist (A, B)min = 2 (L-h-l) 
+ dist (aL-t ,bL-l) The product of a network's diameter and its average number of hops are referred to 
the cost.   3. OHFST Physical Interconnection Wavelength division multiplexing (WDM) partitions a 
large bandwidth of a single channel into multiple, usable subchannels. The object of this is to make 
the self-routing characteristic between source and destination along a signal optical channel. WDM channel 
assignment takes place in the network communications, so that every node can insert in and extract messages 
from the network without any tuning process in single- hop applications. The network is connected through 
optical fiber links. The low loss region of single mode optical fiber has a Level 2 evell ~ --(~) bandwidth 
of about 50 THz[24]. Passive star couplers are used for link interconnections. An experimental ISND switch 
architecture using eight 128x128 multiple star couplers to handle over ten thousand input port lines 
has been reported [18], [4] In wavelength division multiplexing (WDM) the large capacity of the optical 
fiber is utilized by splitting the available bandwidth into independent, non interacting channels, thereby, 
supporting simultaneous communication between many source-destination pairs on the communication medium. 
In WDM-based systems, the transmitting nodes are multiplexed onto the fiber using a device called the 
passive coupler The transmitters at the network nodes are connected to the input ports of the star coupler. 
The signal power at each input port is divided uniformly amongst the output ports. Thus, wavelengths 
from all transmitters appear at each output port. Demultiplexing is performed at the receivers by recovering 
the desired input port signal from the common output port signal. The desired connectivity amongst the 
system nodes can be obtained by appropriate wavelength assignments to the transmitters and receivers 
Thus is illustrated for as even node binary tree in figure (1). In the figure, all links are bi-directional 
and are implemented using fixed wavelength transmitters and receivers Thus the degree of a node determines 
the number of transmitters and receivers at that node By using tunable transmitters and receivers, many 
interconnections can be realized As the logical connectivity between nodes can be achieved by tuning 
the transmitters and receivers to the desired wavelengths, reconfiguration of the interconnection network 
to support a different topology can be achieved by wavelength reassignment [11]. Q_._~ Passive w53~ (a) 
coSut~ler Transmitters Receivers Figure (1) Zw64,w65  4. THE WAVELENGTH ALLOCATION In this paper, two 
wavelength allocation schemes are used: static and dynamic. Both schemes employ time-sharing. In static 
techniques, each node is allocated a fixed wavelength for transmission and receiving Gate technique is 
used in this paper Each gate processor 0zyx (if one-gate processor for each basic (b) cluster is used), 
is allocated ko~r~ as a gate wavelength and each node is allocated a fixed slot at its corresponding 
cluster wavelength. In the dynamic scheme, wavelengths are dynamically allocated according to the traffic 
patterns existing at the time of allocation in single-hop. And the number of time slots per link is also 
dynamically allocated in multiple-hop 4.1. Static wavelength allocation with time sharing When channel 
sharing is employed, channel sharing is achieved through time division multiplexing. For analytical convenience, 
we assume that Mj is an integer that represents the number of koooo 0000 0001 0002 0003 0004 0005 L~lo 
0010 OOll 0012 0013 0014 0015 k~2o 0020 0021 0022 0023 0024 0025 X O(r-lX,-,~ 0(r-l) 0(r-l) 0(r-l) 0(r-l) 
0(r-l) 0(r-l) (r-l)0 (r-l)l (r-l)2 (r-l)3 (r-l)4 (r-l)5 clusters at any level !. The time-wavelength 
diagram is shown in table (1) for sending and receiving, which represents the channel sharing in OHFST 
gate-technique condition. The network topology can be mapped to wavelength domain as single-hop or multi-hop. 
This is depended on the wavelength assigned for each link. 0006 ...... O00(r-l) 1 ST cluster 0016 OOl(r-l) 
2 "d cluster 0026 O02(r-i) 3 ~ cluster 0(r-l) 0(r-l) ML.i th cluster (r-l)6 (r-l)(r-l) Table (1) Fixed-allocation 
map for TDM space-time diagram for M th number of cluster, r th number of nodes / cluster, for sending. 
 For single--hop: The gate technique hierarchical static wavelength allocation map will be as that, each 
basic cluster has a unique wavelength, and every processor has its time slot on corresponding cluster- 
wavelength. The gate processor has a wavelength for transmitting and receiving. One processor or more 
is assigned from each cluster as a gate for the upper level. In case of one processor per cluster is 
used as a gate processor for the upper level. Each gate processor transmits (Mr.rl) wavelengths to other 
gate processors and receives (M L.rl) wavelengths from them. In figure (2-a), an optical hierarchical 
tree OHT (4,4) is illustrated as an example to analyze the static wavelength allocation. The number of 
wavelengths routing on network links is: Lmrrs.h= (ML_j-1). They are distributed as: Path 0000 has koo~o, 
3oo20, koo3o, koto0, 2~.otlo ......... 3..0320, 3..o33o Path 0010 has Loooo, koo2o, koo30, tolo0, kon0, 
........ ko32o, ~33o Path 0020 has koooo, Xoolo, Xoo3o, to=o0, kono ......... ~320, ko33o Path 0330 has 
Loooo. 2%oto, ~oo20, ~o03o, ~1o0, kono ......... ~320 The number of wavelengths on any network-link 
= 15 In the OHT (4,4), system is figure (3-a)for 4-levels. The last level paths have an address as 0zyx 
digits, which represents the processor-gate address and is the same node address, i.e. x = r-I r-1  
o.o : (Z o,jo)- k=0 j=0 node number inside the y-cluster, y = cluster number, and z = hierarchical node 
address. Each path 0zyx has wavelength ~ at level (L-I). Each wavelength has r time-slots i.e.N~ ormlh 
=r rL-h.r(--1) (r -1) N s-OHFST-m'h r L-h _ The advantage of time-sharing reduced the number of using 
wavelengths to (fir) = (1/8)]~om the using number without time-sharing. ~OHFSTnetwork-m.h = ~OHTnetwork-m.h 
X r ~OHTnetwork-m.h : Fully shuffled tree is look like the tree technique for multi- parents allocations 
as in figure (2-b) OHFST (4,4), system is illustrated for 4-levels. The same analysis is applied for 
the shuffled tree for r-corresponding gate. The wavelength distribution will be as follows: Path 0000 
has koooJ, kooo2, Iooo3, ~.ool0, 7%0......... ~332, Xo333 which has r-time slots. Path 0001 has ~-0000. 
koo02, ~0003, ko010, koou ........ k0332, k0333 Path 0002 has toooo, looob koo03, ko010, Zoon ........ 
ko332, k0333 Path 0003 has ~0000. ~%001. koo02, kool0, LOOll ........ ~332, t0333 Path 0333 has 2,.oooo, 
~.ooo,. ~,.ooo2. ~'0003, ~00|0......... ~0332 This network has wavelengths 16 with 4-time slots for each 
wavelength. The general formula will be 7~.o~sxs.h Since the number of generated wavelengths are limited 
for new ~OHFSTnetwo rk-s.h = ~OHTnetwork -s.h X r technology [15]. For this reason, multi-hop technique 
is considered to reduce the number of wavelengths. In multi-hop : In one gate-technique, the number 
of wavelengths will be equal to the number of network-cluster links Lorrrm.h I I ....(_3 Level 0 SCoo 
.., ..~....'~"" (i~ ~ Leve~~4 11 ~'~! ~zt~k4~q Level~ R2 "', //// R3" , RS~ RI \ pa P, , ~P~o0~'~t~ P 
! ' ~ ~ ! t~0"..'~"b'6"~i;':~.~...~:.0.~\ N~~. ~.;."~2 Level3i o6i~68~1o 06£6........ d~~6..... ~ oliff~ff6-"bq~o 
o13o ' ~oo ........................  Poooo ~ I ~ ! P0204 P0332 i ! : Figure (2-a) OHT (4,4) OHFST gate 
- technique. Source Poooo to- destination P020~ Source Poooo to- destination P0332 Poooo sends wavelength 
~200 Poooo sends wavelength ~330  Xo~--~ t ~ Source P0204 to- destination Poooo ~L°Tmr-~-] t ~ Po20~sends 
wavelength ~000 lalll t ~  h=l, link 03, no. of slots=r3(r-l) sc~.<  h=2, link 033, Ns=r2(r-1) ii% 
 )0 k02 230 ~.030( k~35,(1/~.0~3 0 ~ Pooool Po2o4 i | Po3~2 I I I ,! it I I  Figure (2-b) OHFST (4,4) 
h=3, link 0333, Ns=r(r-1) Source Poooo to- destination P0204 Source Poooo to- destination Po3n Poooosends 
wavelength ~t.0204 Poooosends wavelength ~.o3n ~33~...[...] tt Source Po2o4 to-destinationPoooo Po2o4sends 
wavelength 3.oooo t 671 Where Mt = r Iq. In figure (3-a), number of wavelengths = 42+4=20 For the network 
in figure (3-a) OHT (4,4), the number of slots for network link at any level h will be represented as 
follows: i.e. the number slots for level h=(L-l) link=16 x15=240 time-slots.The number slots for level 
2 every link has (16) 2 x 15=3840 time-slots. N s_onrm, h = ML_ , (ML_ , L-h -1) The number slots for 
level 1 every link has (16) 3 x15=16x3840 time-slots. Which is considered high number of slots. For this 
case, we can use more than one wavelength for each link i.e. r L- h-wavelengths. Ns=Ns/rL-hat any level 
h. Communication Operations: There are 3-communication operations for processor packet interconneetions, 
which they are one-to-all, all-to-one and all- to-all. One-to-all broadcast takes place when a single 
P sends identical data to all other P's [19]. Initially, only the source P has the data that needs to 
be broadcast. After the broadcast, there are N-I copies of the initial data, one for each processor. 
Where (N) corresponds to the number of P's in the system. All- to-one when all processors send one message 
to the same destination at a time. All-to-all broadcast (multi-node broadeas0 is a generalization of 
one-to-all broadcast in which all P's simultaneously initiate a broadcast. Communication patterns: The 
previous analyses based on the assumption ofauniform traffic, where the probability of a message being 
sent from any node to any other is the same for all pairs of nodes. This probability will be equal to 
I/N. This is not expected to be the case in most practical situation in large number of processors. Static 
and dynamic allocation techniques as well as distributed load balancing schemes try to assign related 
processes to nearby nodes [12]. To minimize interprocessor traffic patterns, which are much more localized 
as, compared to a uniform distribution. Consequently, the probability of two nodes communicating at any 
given time will be decreased with increasing distance between the nodes. Two models of inter-node communication 
are used to evaluate the performance of large networks under localized traffic. Let p(s, d) = p if the 
probability that a message originating at a node s has node d as its final destination is p. Suppose 
that p(s, d) depends only on the distance x between s and d. This implies that all nodes at the same 
distance from a source have equal chances of receiving a message from that source [12]. The following 
models have been suggested. Threshold Model: Every node in the same local region (R1) consisting of all 
nodes nl within a distance (threshold). A fraction ct of all message destinations are uniformly distributed 
within the local region of the source. The remaining destination addresses are uniformly distributed 
over the entire network, i.e. for any message, it will inside area R1 with probability p, any node has 
probability p/nl. And a message for specific node in area 2 with probability (1-p)/n2. Geometric Distribution: 
For every source S, the nodes of the system are divided into regions R1, R2, .... of increasing distance 
from S. A fraction 13 of all messages are destined Ri of S, 13 of the remaining messages go to region 
R2, and so on. Within each region, the distribution is uniform. For a fully shuffled tree, the natural 
communication pattern localized, each node communicates only with its immediate neighbors at a fixed 
rate per neighbor. Table (2) illustrate the threshold and geometric communication distributions at network-levels 
for gate-OHFST and OHFST network.  Traffic probability distributions Threshold Each processor in region 
RI has probability pth~r. Each processor in regions R2, R3, R4, R5 has probability pth,/(N-r). Geometric 
1. Each processor in region RI has probability pl = p/r. 2. Each processor in regions R2 has probability 
p2=p(l-p)/(r(r-l)). 3: Each processor in regions R3 has probability p3=p(l-p)2/(r2). 4. Each processor 
in regions R4 has probability p4=p(1-p)3/(r2). 5. Each processor in regions R5 has probability p5=p(1-p)4/(rZ). 
 Table (2) Threshold and geometric probabilities of communication patterns for traffic- distributions 
applied to figure (2-a, 2-b). 4.2. Dynamic wavelength allocation: In this paper, there are two algorithms 
for dynamic wavelength allocation of the OHFST. The first algorithm uses a control channel separately 
in addition of the network data channels. In particular, the control channel should carry the information 
about the wavelength, which the receiver has to tune, to receive the data packets from other users [2]. 
But the second algorithm has a control packet attached with each data packet. In this technique, the 
additional channel is not needed. In dynamic wavelength allocation data channels are assigned to the 
users without any coordination between transmitters and receivers. First algorithm: Control-channel is 
used in addition to the network-wavelengths.  I. The data channels have their data on wavelengths k 
o~sT for single-hop or multi-hop, the data channel wavelengths. 2. Using control channel on wavelength 
k ¢ separately. Each control channel slot contains [2]: The source address.  The destination address. 
 A number identifying the wavelength used for the data channel.  When using one-control separate channel 
for the whole nodes packet will be illustrated at figure (3): N. Any source has a slot in the control 
channel. Then the control 0000-000(r-l) 0010-001(r-l) 0(r-l)(r-l)0 - - 0(r-l)(r-I)(r-l) ~c Number of 
slots=number of wavelengthsxr Figure (3) Separate control channel slots, I st case Second algorithm, 
when using control packet, which extends The address slot is occupied according to the empty slot. In 
case the control operation over all channels. This technique is used to of heavy-traffic, full occupancy 
makes the number ofslotsN, reduce the number of used wavelengths. The users are which represents the 
time-delay. subdivided into groups (clusters), and each cluster is assigned its control packet at the 
beginning of its channel. .0000 10111213141 I r-1 I 1 > (r-l) control packet >< Data-packet for (r-l) 
processors for cluster (0)  ~0010 10111213141 I r-ll I > <' (r-l)control packet ~< Data-packet for 
(r-l)processors for cluster (1)  Z0(r-l)(r-l)(r-10111213141 I r-1 I I l) > '~ (r-l) control packet 
for ~>~ Data-packet for (r-1) processors cluster (ML.t-I) Figure (4) control packet slots for cluster 
channels-Gate technique. Where M (L-O = basic number of clusters at level (L-i) = r eL'2). For the 1= 
case figure (4), The destination slot address is sorted To make the channel utility max., the slot occupancy 
must be according to its cluster addresses respectively in the empty slot. according to traffic intensity. 
If the source A is addressed as a0 Table (3) show the dynamic wavelength distribution at the an a~..aL_l 
, and the destination B is addressed as bo bn b2..bL.i. example of figure (2). The packets at any path 
is routed as follows: Single-hop Multi-hop gate [ Fully-shuffled gate [ Fully- shuffled One-to-all 
i.e. P0000 sends (N-l)messages. All-to-one i.e. P0000 receives (N-l)messages All-to-all Level L-l; link 
0000 has (Mul-l) sending wavelengths. Each one of all other links receives one -corresponding cluster- 
wavelength. Level 2; link 000 has r(r-l) sending wavelengths. Each one of all other links receive r - 
corresponding cluster- wavelength. Level L-l; link 0000 has (ML_i-1) receiving wavelengths. Each one 
of all other links sending one -sending cluster- wavelength. Level 2; link 000 has r(r-l) receiving wavelengths. 
Each one of all other links send r - corresponding cluster- wavelength. Level L-l; link 0000 has (ML.i-I) 
sending, receiving wavelengths. Each one of all other links receives one -corresponding cluster- wavelength. 
And sending one -sending cluster- wavelength. Level 2; link 000 has r(r-l) sending, receiving wavelengths. 
Each one of all other links receive (r-l) -corresponding cluster- wavelength, and send (r-1) corresponding 
cluster- wavelength.  Level L-l; link 0000 has (N-l) sending wavelengths( = rXML_ 1- I ) Each one of 
all other links receives one- corresponding processor-wavelength. Level 2; link 000 has r(ML-z-l) sending 
wavelengths. Each one of all other links receives r- corresponding processor- wavelength. Level 1; link 
00 has r(ML-3-1) sending wavelengths. Each one of all other links receive rL corresponding processor- 
wavelength Level L-l; link 0000 has (N-l) receiving wavelengths (= rXML.l-1) Each one of all other links 
send one - corresponding processor-wavelength. Level 2; link 000 has r(ML.2-1) receiving wavelengths. 
Each one of all other links send r - corresponding processor- wavelength. Level 1; link 00 has r2(ML_3-1) 
receiving wavelengths. Each one of all other links send rL corresponding processor- wavelength. Level 
L-l; link 0000 has (N-l) sending, receiving wavelengths (= rxML_rl) Each one of all other links receives 
one - corresponding processor-wavelength and send one -corresponding processor-wavelength. Level 2; link 
000 has r(ML.2-1) sending, receiving wavelengths. Each one of all other links receives, and sends r -corresponding 
processor- wavelength. Level 1; link 00 has rZ(ML_3-1) sending and receiving wavelengths. Each one of 
all other links sends and receives r2-corresponding processor- wavelength Level L- 1; r- wavelengths. 
Level 2; r 2. Level 1; r 3 . Level L-l; r- wavelengths. Level 2; r 2 -wavelengths. Level 1; r 3- wavelengths. 
Level L-I; r- wavelengths. Level 2; P- wavelengths. Level 1; r 3- wavelengths. Table (3) Dynamic wavelength 
allocation for single-hop and multiple-hop network. 5. COMMUNICATION DELAY Communication delay is defined 
as the time required to complete a given communication operation. Since the total delay is xb it is considered 
that the first message will be sent at time 0, will arrive after a time ~b. Last message will arrive 
after q~+x, where x represents the time delay which equal to Ns xAs, As = 1 n.s [18]. Ns =number of time 
slots for the path, assuming Figure (3) Delay w.r.t (r) for N 1 ,N2,N3 in case of sigle-hop. --o--N1=1024 
 .~N2=1,048.576 6 z , -~--N3=1,073,741.82 4 As is the time duration of single TDM time slot. In case 
of the basic communication operations are: one-to-all broadcast, all- to-one and all-to-all broadcast. 
Since the number of time slots is constant for single-hop, the time delay of any message communication 
is constant, which is equal to rxAs, but in case of multi-hop, time delay is variable with respect to 
the number of used frequencies per link. In the used frequency scheme, the delay will be equal to (r-l) 
xAs. Figure (4) Delay w.nL (r) for NI,N2,N3 in case of multi-hop. 4~ l --4'-- N1=1024 --IB--- N2=1.048,576 
r1=2 r2=4 r3=8 r4=16 r5=32 1"6=64 1) in network. All-to-one; the processor receives (N-l) 6. ROUTING 
wavelengths. All-to-all is a general form for one-to-all. If the source A is addressed as ao at ... aL.= 
sends to a destination node which is addressed asB(b0bt ... bL.i), ln the same basic cluster, the routing 
is that of the basic cluster and the first common group between the two nodes is in the level h i.e. 
 ao at ... ah-i = bo bt ... bh-~ Then the message can follow any of the paths defined as follow 0-< XL.i 
_< (r-l) bo bl ... bh-I ah ... aL-I bo bl ... bh-i an ... avi bo bt ... bh.t ~... XL.t bo bt ... bh.t 
ah ... aL-2XL-I b0 bl ... bh-I XL-,  b0 bt ... bh-t bh ... bL-2XL-I bo bl ... bh-t bh-.- bL-t b~ bo 
bt ... bh.t ah... bL.2bLd dist(A,B) = 2(L-h-l) + dist(aL.ba~) + dist(aL.i + XL-0 + dist(xL.l + bL-l)+ 
dist(xw + bg.t) The routing follows the communication operations: one-to-all or all-to-one or all-to-all 
broadcasting scheme. In one--to-all the processor element sends the same message to all other nodes (N- 
7. SCALABILITY  7.1. System size in this paper, the system scale size is restricted by some constrains. 
That for system size N, the number of levels related with the number nodes per cluster. N must be chosen 
as multiple of the radix n as; N = 2 L-t = 2", n = L-l, n must be equal to 10, 12, 14, ]6 ......... to 
have the system structured (fully shuffled tree) The chosen N must be according to the algorithm; Counter 
loop for j number. Calculation loop for n factor. if (n mod j = 1) calculate the following statements 
which represent the network performance .... n). Else consider the following network size. N=1024 N=1,048,576 
N= 1,073,741,824 N =10 n = 20 n = 30 10=2x5 10 mod 2 L=3, 1.=2 s 20=2x10 L=3, r=2 l° 30=2x15 20=4x5 L=5,r=2 
s 30=3x10 20=5x4 L=6,r=2 4 30=5x6 10 =5x2 10 mod 5 L=6, r=2 2 30=6×5 20=10x2 L =l I, r=2 2  7.2. Number 
of wavelengths limitation Three-main issues limit system scalability: [7] 1. Physical scalability, which 
bounds the maximum number of interconnected nodes through OPB. 2. Performance scalability that bounds 
the optical domain by:  Tunability of optical devices (transmitters &#38; receivers filters) that limit 
the number of wavelength channels that are created. Limitations on wavelength number, how many wavelengths 
can be used and what is the wavelength separation. Limitations on wavelength numbers, how many wavelengths 
can be used and what is the wavelength separation. Currently 1300nm is the wavelength window most commonly 
used in telecommunication optical transmission systems, and 1550nm for long distance commercially used 
for its low losses. For 1550nm window, the maximum bandwidth ~ 120.1 theoretically but practically it 
is -30nm -bandwidth of single (EDFA) amplifier. 30nm bandwidth is equivalent to wavelength rang:[27] 
f = c/X by differentiation we have Af =(c/~?)AX At 1550nm ATL=30nm, Af=3.7x 1012 30=10x3 For data rate 
2.5 Gbit/sec channels which is mostly used I27]. If: 1. Baseband spectrum=2xNyquist bandwidth. B=2.5G.Hz. 
 2. Single sideband modulation is possible.  3. Guard band=2xNyquist wavelength is used to allow for 
imprecise filtering etc.  With theses assumptions: The maximum number of channels possible is Nm= = 
Af/2B = 740 channels which is a theoretical number but no practical due to technology demands of filtering. 
The details of the managed objects of the optical FDM-based networks, such as optical wavelength and 
optical wavelength channels spacing, are still being discussed [15]. Scalability limitation when cost 
or complexity grows faster than the performance. 8. CONCLUSION This paper introduced optical hierarchical 
fully shuffled tree for high performance. Hierarchical architectures based on time and wavelength multiplexing 
were examined. Adaptable system results since the wavelengths can be dynamically allocated at each accessing 
scheme. The wavelength allocation is studied in two cases, dynamic and static allocations. The system 
delay 675  factor is calculated with respect to the system size for single - hop and multi-hop topologies. 
The delay is constant although of increasing the number of processors, which is an important advantage 
for this system. Due to the hierarchical topology of this architecture, which make doubling the number 
of processors is very simple just adds a symmetrical tree at level 0. Due to the WDM using technique, 
the message delay will not affect. Dynamic wavelength allocation increases the link utility, reduces 
the message time delay and increases the system fault 9. REFERENCES [i] DharmaP. Agrawal and Omar H. 
Karam, "Design and Analysis of Generalized Hierarchical Networks Interconnection Networks for Multicomputer 
Systems", Ph.D. Dissertation, North Carolina State University (USA), 1993. [2] Andrea Borella, Giovanni 
Cancellieri and Franco Chiaraluce, "Wavelength Division Multiple Access Optical Network", Artech House, 
Inc., 1998. [3] Roger D. Chamberlain, RopertR. Krchnavek, "Optically Interconnected Multieomputers using 
Inverted-Graph Topologies", 1EEE Micro., Optical Processing Track, April 1995. [4] Arturo Cisneros and 
Charles A. Brackett, "A Large ATM Switch Bsed on Memory Switches and Optical Star Couplers", IEEE J. 
Select. Areas Commun. vol. 9, No. 8,pp. 1348-1360, Oct. 1991. [5] Sivarama P. Dandamudi, "Hierarchical 
Hypercube Multieomputer Interconnection Networks", Ellis Horwood Limited, 1991. [6] DELPHI Automotive 
Systems, "Fiber Optic Data Distribution, Passive Optical Star Coupler", PAKARD ELECTRIC, 1997. [7] Patrick 
W. Dowd, Kalyni Bogineni, Kaled A. Aly, and James A. Pereault. "Hierarchical Scalable Photonic Architectures 
for High-Performance Processor Interconnection", IEEE Transactions on computers, voi. 42, No. 9, Sept. 
1993. [8] Patrick W. Dowd, "Wavelength Division Multiple Access Channel Hypercube Processor Interconnection", 
IEEE Transactions on computers, vol. 41, No. 10 October 1992. [9] W. A. Gamling and J. S. Wilkinson, 
"Integrated Fiber Circuits -Prospects and Possibilities," University of Southampton, 1994. [10] K.Ghose 
and K.R.Desai, "Hierarchical Cubic Networks," IEEE Trans. Parallel and Distrib. Syst., vol. 6, pp.427- 
435, Apr. 1995. [11] Mounir Hamdi, DIMACS Series in Discrete Mathematics and Theoretical Computer Science 
"Communication in Optically Intereonnected Parallel Computer Systems", Optically Interconnected Parallel 
Computer Systems, American Mathematical Society, vol. 21. 1995. [12] Kai Hwang, Joydeep Ghosh, "Hypemet: 
A Communication-Efficient Architecture for Constructing Massivily Parallel Computers", IEEE Transactions 
on Computers, vol. C-36, No. 12, December 1987. [13] Contributions to ITU-T SQ15 Q25, Q26 Meeting, Feb. 
1996. tolerance, due to changing the wavelength allocation if here is any link faulted. And there are 
not any system that has this phenomenon before that. These features make OHFST very suitable for massively 
parallel systems. Implementing this system and applied commercially is a future work which is depended 
on economical support. Implementing this system for bus interconnection nodes is an alternative suggestion; 
instead of star-couplers will be a good future suggestion. [14] Gerd Keiser, "Optical Fiber Communications", 
McGraw-Hill Inc., Series in Electrical Engineering, 1983. [15] Kiyoshi Nosu, "Optical FDM Network Technologies", 
Artech House, Inc. Boston London, 1997. [16] A.M. Law and W. D. Kelton, "Simulation Modeling and Analysis", 
New York: McGraw-Hill, Series in Industrial Engineering and Management Science, 1991. [17] Ahmed Louri, 
Brent Weech, and CostasNeocleous, "A Spanning Multichannel Linked Hypercube: A Gradually Scalable Optical 
Interconnection Network for Massively Parallel Computing", 1EEE Trans. Parallel and distributedsys., 
Vol. 9, No. 5, May 1998. [18] Ahmed Louri and Coastas, "A Spanning Bus Connected Hypercube: A New Scalable 
Optical Interconnection Network for Multiprocessors and Massively Parallel Systems", IEEE Journal of 
Lightwave Technology, Vol. 15,No. 7, July 1997. [19] Ahmed Louri and Rajdeep Gupta, "Hierarchical Optical 
Ring Interconnection (HORN): A Scalable Interconnection-Network for Multiprocessors and Multicomputers," 
Applied Optics, vol.36, no. 2, pp.430- 442, January 10, 1997. [20] A.Louri and H.Sung, "3D Optical Interconnects 
for High- Speed Interchip and Interboard Communications," Computer, Vol.27, pp.27-37, Oct. 1994. [21] 
A.Louri and H.Sung, "An Optical Multi-Mesh Hypercube: A Scalable Optical Interconnection Network for 
Massively Parallel Computing," IEEE J. Lightwave Technol., vol. 12,pp.704-716, Apr.1994. [22] A. Louri 
and H.Sung. "Efficient Implementation Methodology for Three-Dimensional Space-Invariant Hypercube-Based 
Free-Space Optical Interconnection Networks," appL Opt. Vol. 32, pp.7, 200-7,209, Dec. 1993. [23] Justin 
R Macfarlane, " Star-couplers", 1998. http:/lwww.eosc.canterbury.ac.nz/-justin/thesis/node 18.ht ml [24] 
Biswanath Mukherjee, "Optical Communication Networks", McGraw-Hill Series on Computer Communications, 
1997. [25] John P. Powers, "An Introduction to Fiber Optic Systems", Richard D. lrwin, Inc., and Aksen 
Associates, Inc., 1993. [26] Eugen Schenfeld, Edited by Albert Y. H. Zoma, "Massively Parallel Processing 
with Optical Interconnections", Parallel &#38; Distributed Computing Handbook McGraw-Hill Series on Computer 
Engineering, 1990. [27] D. M. Spirit and M. J. O'Mahony, "High Capacity Optical Transmission Explained", 
John Wiley &#38; Sons Ltd. England, 1995.    
			